import{b as e,E as t,n as a,v as l,t as i,y as s,K as o,q as n,F as r,e as d,r as u,j as c,V as p,W as m,X as v,Y as f,P as g,a3 as y,Z as b,a6 as h,_ as x,ad as w,I as _,ae as k,s as S,d as P,p as T,w as V,c as C,u as I,B,D as F,a5 as A,a2 as E}from"./vendor-bgb2fARM.js";import{Q as D,S as R,H as z,T as N,U as L,g as $,W as O,V as j,X as M,b as U,_ as W,z as G,y as H,A as K,a as q,C as X,v as Y,D as Z,w as Q,x as J,F as ee,Y as te,s as ae,Z as le,u as ie,t as se,$ as oe,l as ne,a0 as re,n as de,p as ue,O as ce,a1 as pe,e as me,a2 as ve,B as fe,K as ge,a3 as ye}from"./index-BrAQZWud.js";import{a as be,m as he,b as xe,c as we,V as _e}from"./VSelect-hpT9jQ5K.js";import{f as ke,p as Se,n as Pe,u as Te,aj as Ve,ab as Ce,C as Ie,G as Be,A as Fe,j as Ae,a5 as Ee,k as De,y as Re,az as ze,m as Ne,h as Le,I as $e,aA as Oe,z as je,l as Me,aB as Ue,s as We,aC as Ge,w as He,o as Ke,aD as qe,aE as Xe,an as Ye,ag as Ze,aF as Qe,ar as Je}from"./ui-DPCHhl7L.js";import{V as et}from"./VTooltip-DJHSWIpg.js";const tt=Se({...N(),...Ce(he(),["inline"])},"VCheckbox"),at=ke()({name:"VCheckbox",inheritAttrs:!1,props:tt(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(i,s){let{attrs:o,slots:n}=s;const r=Pe(i,"modelValue"),{isFocused:d,focus:u,blur:c}=D(i),p=e(),m=t();return Te(()=>{const[e,t]=Ve(o),s=R.filterProps(i),v=be.filterProps(i);return a(R,l({ref:p,class:["v-checkbox",i.class]},e,s,{modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,id:i.id||`checkbox-${m}`,focused:d.value,style:i.style}),{...n,default:e=>{let{id:i,messagesId:s,isDisabled:o,isReadonly:d,isValid:p}=e;return a(be,l(v,{id:i.value,"aria-describedby":s.value,disabled:o.value,readonly:d.value},t,{error:!1===p.value,modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,onFocus:u,onBlur:c}),n)}})}),z({},p)}}),lt=Se({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...N(),...we()},"VSwitch"),it=ke()({name:"VSwitch",inheritAttrs:!1,props:lt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(d,u){let{attrs:c,slots:p}=u;const m=Pe(d,"indeterminate"),v=Pe(d,"modelValue"),{loaderClasses:f}=L(d),{isFocused:g,focus:y,blur:b}=D(d),h=e(),x=e(),w=Ie&&window.matchMedia("(forced-colors: active)").matches,_=i(()=>"string"==typeof d.loading&&""!==d.loading?d.loading:d.color),k=t(),S=i(()=>d.id||`switch-${k}`);function P(){m.value&&(m.value=!1)}function T(e){e.stopPropagation(),e.preventDefault(),h.value?.input?.click()}return Te(()=>{const[e,t]=Ve(c),i=R.filterProps(d),u=xe.filterProps(d);return a(R,l({ref:x,class:["v-switch",{"v-switch--flat":d.flat},{"v-switch--inset":d.inset},{"v-switch--indeterminate":m.value},f.value,d.class]},e,i,{modelValue:v.value,"onUpdate:modelValue":e=>v.value=e,id:S.value,focused:g.value,style:d.style}),{...p,default:e=>{let{id:i,messagesId:c,isDisabled:f,isReadonly:g,isValid:x}=e;const k={model:v,isValid:x};return a(xe,l({ref:h},u,{modelValue:v.value,"onUpdate:modelValue":[e=>v.value=e,P],id:i.value,"aria-describedby":c.value,type:"checkbox","aria-checked":m.value?"mixed":void 0,disabled:f.value,readonly:g.value,onFocus:y,onBlur:b},t),{...p,default:e=>{let{backgroundColorClasses:t,backgroundColorStyles:a}=e;return s("div",{class:n(["v-switch__track",w?void 0:t.value]),style:o(a.value),onClick:T},[p["track-true"]&&s("div",{key:"prepend",class:"v-switch__track-true"},[p["track-true"](k)]),p["track-false"]&&s("div",{key:"append",class:"v-switch__track-false"},[p["track-false"](k)])])},input:e=>{let{inputNode:t,icon:l,backgroundColorClasses:i,backgroundColorStyles:u}=e;return s(r,null,[t,s("div",{class:n(["v-switch__thumb",{"v-switch__thumb--filled":l||d.loading},d.inset||w?void 0:i.value]),style:o(d.inset?void 0:u.value)},[p.thumb?a($,{defaults:{VIcon:{icon:l,size:"x-small"}}},{default:()=>[p.thumb({...k,icon:l})]}):a(O,null,{default:()=>[d.loading?a(M,{name:"v-switch",active:!0,color:!1===x.value?void 0:_.value},{default:e=>p.loader?p.loader(e):a(U,{active:e.isActive,color:e.color,indeterminate:!0,size:"16",width:"2"},null)}):l&&a(j,{key:String(l),icon:l,size:"x-small"},null)]})])])}})}})}),z({},x)}}),st={class:"d-flex align-center"},ot={class:"text-h5 font-weight-bold mb-0"},nt={class:"text-body-2 text-medium-emphasis mb-0"},rt={class:"form-section"},dt={class:"section-header"},ut={class:"form-section"},ct={class:"section-header"},pt={key:0,class:"no-args-placeholder"},mt={key:1,class:"args-list"},vt={key:0,class:"arg-description mt-2"},ft={class:"d-flex align-center"},gt={class:"text-caption text-medium-emphasis ml-4 mb-0 mt-1 text-wrap"},yt={__name:"ProjectFormDialog",props:{modelValue:{type:Boolean,default:!1},editData:{type:Object,default:null}},emits:["update:modelValue","success"],setup(t,{emit:i}){const{showSuccess:o,showError:k}=ie(),S=t,P=i,T=e(null),V=e(!1),C=e(!1),I=d({get:()=>S.modelValue,set:e=>P("update:modelValue",e)}),B=d(()=>!!S.editData),F=["-PixelStreamingURL","-RenderOffScreen","-Unattended","-AudioMixer","-PixelStreamingHideCursor","-AllowPixelStreamingCommands","-ForceRes"],A=["-ResX","-ResY","-PixelStreamingWebRTCFps"],E=e=>F.includes(e)||A.includes(e),D=e=>e.fixed&&!A.includes(e.key),R=e=>({"-PixelStreamingURL":"像素流传输URL，用于指定WebRTC连接的端点路径","-RenderOffScreen":"启用离屏渲染模式，提高性能并减少GPU资源占用","-Unattended":"无人值守模式，程序在后台运行无需用户交互","-AudioMixer":"启用音频混合器，处理多路音频输入输出","-PixelStreamingHideCursor":"隐藏像素流中的鼠标光标显示","-AllowPixelStreamingCommands":"允许通过像素流接收和执行远程命令","-ForceRes":"强制使用指定的分辨率设置","-ResX":"设置水平分辨率（像素宽度）","-ResY":"设置垂直分辨率（像素高度）","-PixelStreamingWebRTCFps":"设置WebRTC帧率，范围24-120fps，影响流传输的流畅度"}[e]||""),z=[{key:"-PixelStreamingURL",value:"/pixel-twin-ue",check:!0,fixed:!0},{key:"-RenderOffScreen",check:!0,fixed:!0},{key:"-Unattended",check:!0,fixed:!0},{key:"-AudioMixer",check:!0,fixed:!0},{key:"-PixelStreamingHideCursor",check:!0,fixed:!0},{key:"-AllowPixelStreamingCommands",check:!0,fixed:!0},{key:"-ForceRes",check:!0,fixed:!0},{key:"-ResX",value:1920,check:!0,fixed:!0},{key:"-ResY",value:1080,check:!0,fixed:!0},{key:"-PixelStreamingWebRTCFps",value:60,check:!0,fixed:!0}],N={pixelTwinId:"",pixelTwinName:"",pixelTwinStartPath:"",pixelTwinArgs:[...z],graphicsMemory:4,serviceEnable:!0},L=u({...N}),$={required:e=>!!e||"此字段为必填项",pixelTwinId:e=>e?!!/^[a-zA-Z0-9-_]+$/.test(e)||"项目ID只能包含字母、数字、连字符和下划线":"项目ID为必填项",graphicsMemory:e=>e?!(isNaN(e)||e<1||e>64)||"显存大小必须在1-64GB之间":"显存大小为必填项"},O=e=>{const t=[];return"-PixelStreamingWebRTCFps"===e.key?t.push(e=>{if(!e)return!0;const t=Number(e);return isNaN(t)?"帧率必须是数字":!(t<24||t>120)||"帧率必须在24-120之间"}):"-ResX"!==e.key&&"-ResY"!==e.key||t.push(e=>{if(!e)return!0;const t=Number(e);return isNaN(t)?"分辨率必须是数字":!(t<1||t>4096)||"分辨率必须在1-4096之间"}),t};c(()=>S.editData,e=>{if(e){const t=e.pixelTwinArgs||[],a=t.filter(e=>!z.some(t=>t.key===e.key)),l=z.map(e=>{const a=t.find(t=>t.key===e.key);return a?{...e,value:a.value,check:a.check}:e});Object.assign(L,{pixelTwinId:e.pixelTwinId||"",pixelTwinName:e.pixelTwinName||"",pixelTwinStartPath:e.pixelTwinStartPath||"",pixelTwinArgs:[...l,...a],graphicsMemory:e.graphicsMemory||4,serviceEnable:e.serviceEnable??!0})}},{immediate:!0}),c(I,e=>{e&&!S.editData&&M()});const M=()=>{Object.assign(L,{...N,pixelTwinArgs:[...z]}),_(()=>{T.value?.resetValidation()})},U=()=>{L.pixelTwinArgs.push({key:"",value:"",check:!0,fixed:!1})},W=()=>{k("文件选择功能暂未实现，请手动输入路径")},oe=()=>{I.value=!1},ne=async()=>{if(!T.value)return;const{valid:e}=await T.value.validate();if(e){C.value=!0;try{const e=L.pixelTwinArgs.map(e=>({key:e.key,value:e.value,check:e.check})),t={...L,pixelTwinArgs:e,pixelTwinInstance:[]};let a;if(a=B.value?await se.project.editProject({data:t}):await se.project.addProject({data:t}),200!==a.code)throw new Error(a.message||`项目${B.value?"修改":"创建"}失败`);o(`项目${B.value?"修改":"创建"}成功`),P("success"),oe()}catch(t){k(t.message||`项目${B.value?"修改":"创建"}失败`)}finally{C.value=!1}}};return(e,t)=>(m(),p(le,{modelValue:I.value,"onUpdate:modelValue":t[6]||(t[6]=e=>I.value=e),"max-width":"900px",persistent:"",scrollable:""},{default:v(()=>[a(ae,{class:"project-form-dialog"},{default:v(()=>[a(G,{class:"dialog-header"},{default:v(()=>[s("div",st,[a(H,{size:"40",color:"primary",class:"mr-3"},{default:v(()=>[a(j,{size:"20",color:"white"},{default:v(()=>[f(g(B.value?"mdi-pencil":"mdi-plus"),1)]),_:1})]),_:1}),s("div",null,[s("h2",ot,g(B.value?"编辑项目":"创建项目"),1),s("p",nt,g(B.value?"修改项目配置信息":"配置新的 Pixel Twin 项目"),1)])]),a(K),a(q,{icon:"mdi-close",variant:"text",onClick:oe})]),_:1}),a(X),a(Y,{class:"dialog-content"},{default:v(()=>[a(Z,{ref_key:"formRef",ref:T,modelValue:V.value,"onUpdate:modelValue":t[5]||(t[5]=e=>V.value=e),onSubmit:y(ne,["prevent"])},{default:v(()=>[s("div",rt,[s("div",dt,[a(j,{color:"primary",class:"mr-2"},{default:v(()=>t[7]||(t[7]=[f("mdi-information-outline")])),_:1,__:[7]}),t[8]||(t[8]=s("h3",{class:"text-h6 font-weight-bold"},"基本信息",-1))]),a(Q,null,{default:v(()=>[a(J,{cols:"12",md:"6"},{default:v(()=>[a(ee,{modelValue:L.pixelTwinId,"onUpdate:modelValue":t[0]||(t[0]=e=>L.pixelTwinId=e),label:"项目ID","prepend-inner-icon":"mdi-identifier",variant:"outlined",density:"comfortable",rules:[$.required,$.pixelTwinId],readonly:B.value,hint:"项目的唯一标识符，创建后不可修改","persistent-hint":""},null,8,["modelValue","rules","readonly"])]),_:1}),a(J,{cols:"12",md:"6"},{default:v(()=>[a(ee,{modelValue:L.pixelTwinName,"onUpdate:modelValue":t[1]||(t[1]=e=>L.pixelTwinName=e),label:"项目名称","prepend-inner-icon":"mdi-folder-outline",variant:"outlined",density:"comfortable",rules:[$.required],hint:"项目的显示名称","persistent-hint":""},null,8,["modelValue","rules"])]),_:1})]),_:1}),a(Q,null,{default:v(()=>[a(J,{cols:"12"},{default:v(()=>[a(ee,{modelValue:L.pixelTwinStartPath,"onUpdate:modelValue":t[2]||(t[2]=e=>L.pixelTwinStartPath=e),label:"启动路径(信令服务所在本机路径)","prepend-inner-icon":"mdi-folder-open-outline",variant:"outlined",density:"comfortable",hint:"可执行文件的完整路径","persistent-hint":""},{append:v(()=>[a(q,{icon:"mdi-folder-open",variant:"text",size:"small",onClick:W})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(Q,null,{default:v(()=>[a(J,{cols:"12",md:"6"},{default:v(()=>[a(ee,{modelValue:L.graphicsMemory,"onUpdate:modelValue":t[3]||(t[3]=e=>L.graphicsMemory=e),modelModifiers:{number:!0},label:"显存大小 (GB)","prepend-inner-icon":"mdi-memory",variant:"outlined",density:"comfortable",type:"number",min:"1",max:"64",rules:[$.required,$.graphicsMemory],hint:"项目运行所需的显存大小，单位为GB","persistent-hint":""},null,8,["modelValue","rules"])]),_:1}),a(J,{cols:"12",md:"6"},{default:v(()=>[a(it,{modelValue:L.serviceEnable,"onUpdate:modelValue":t[4]||(t[4]=e=>L.serviceEnable=e),label:"启用服务",color:"primary",inset:"","hide-details":"",class:"mt-4"},{prepend:v(()=>[a(j,{color:"primary"},{default:v(()=>t[9]||(t[9]=[f("mdi-power")])),_:1,__:[9]})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),s("div",ut,[s("div",ct,[a(j,{color:"primary",class:"mr-2"},{default:v(()=>t[10]||(t[10]=[f("mdi-cog-outline")])),_:1,__:[10]}),t[12]||(t[12]=s("h3",{class:"text-h6 font-weight-bold"},"启动参数",-1)),a(K),a(q,{color:"primary",variant:"outlined",size:"small","prepend-icon":"mdi-plus",onClick:U},{default:v(()=>t[11]||(t[11]=[f(" 添加参数 ")])),_:1,__:[11]})]),0===L.pixelTwinArgs.length?(m(),b("div",pt,[a(H,{size:"60",color:"grey-lighten-3",class:"mb-3"},{default:v(()=>[a(j,{size:"30",color:"grey"},{default:v(()=>t[13]||(t[13]=[f("mdi-cog-off-outline")])),_:1,__:[13]})]),_:1}),t[15]||(t[15]=s("p",{class:"text-body-2 text-medium-emphasis"},"暂无启动参数",-1)),a(q,{color:"primary",variant:"text",onClick:U},{default:v(()=>t[14]||(t[14]=[f(" 添加第一个参数 ")])),_:1,__:[14]})])):(m(),b("div",mt,[(m(!0),b(r,null,h(L.pixelTwinArgs,(e,i)=>(m(),p(ae,{key:i,class:n(["arg-item","mb-3",{"fixed-arg":e.fixed}]),variant:"outlined"},{default:v(()=>[a(Y,{class:"py-3"},{default:v(()=>[a(Q,{align:"center","no-gutters":""},{default:v(()=>[a(J,{cols:"12",sm:"1",md:"1",class:"d-flex justify-center justify-sm-start mb-2 mb-sm-0"},{default:v(()=>[a(at,{modelValue:e.check,"onUpdate:modelValue":t=>e.check=t,color:"primary",readonly:E(e.key),"hide-details":"",density:"compact"},null,8,["modelValue","onUpdate:modelValue","readonly"])]),_:2},1024),a(J,{cols:"12",sm:"5",md:"4",class:"mb-2 mb-sm-0 px-2"},{default:v(()=>[a(ee,{modelValue:e.key,"onUpdate:modelValue":t=>e.key=t,label:"参数名",variant:"outlined",density:"compact",rules:[$.required],readonly:E(e.key),"hide-details":""},w({_:2},[e.fixed?{name:"prepend-inner",fn:v(()=>[a(j,{size:"16",color:"warning"},{default:v(()=>t[16]||(t[16]=[f("mdi-lock")])),_:1,__:[16]})]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","rules","readonly"])]),_:2},1024),a(J,{cols:"12",sm:"5",md:"5",class:"mb-2 mb-sm-0 px-2"},{default:v(()=>[a(ee,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,label:"参数值",variant:"outlined",density:"compact",readonly:D(e),type:"-PixelStreamingWebRTCFps"===e.key||"-ResX"===e.key||"-ResY"===e.key?"number":"text",min:"-PixelStreamingWebRTCFps"===e.key?24:"-ResX"===e.key||"-ResY"===e.key?1:void 0,max:"-PixelStreamingWebRTCFps"===e.key?120:"-ResX"===e.key||"-ResY"===e.key?4096:void 0,rules:O(e),"hide-details":"",placeholder:"可选"},null,8,["modelValue","onUpdate:modelValue","readonly","type","min","max","rules"])]),_:2},1024),a(J,{cols:"12",sm:"1",md:"2",class:"d-flex justify-center justify-sm-end px-2"},{default:v(()=>[e.fixed?(m(),p(et,{key:1,location:"top"},{activator:v(({props:e})=>[a(q,l({ref_for:!0},e,{icon:"mdi-lock",variant:"text",size:"small",color:"warning",disabled:""}),null,16)]),default:v(()=>[t[17]||(t[17]=s("span",null,"系统参数，不可删除",-1))]),_:1,__:[17]})):(m(),p(q,{key:0,icon:"mdi-delete",variant:"text",size:"small",color:"error",onClick:e=>(e=>{L.pixelTwinArgs[e].fixed||L.pixelTwinArgs.splice(e,1)})(i)},null,8,["onClick"]))]),_:2},1024)]),_:2},1024),e.fixed&&R(e.key)?(m(),b("div",vt,[s("div",ft,[a(j,{size:"14",color:"info",class:"mr-1"},{default:v(()=>t[18]||(t[18]=[f("mdi-information-outline")])),_:1,__:[18]}),t[19]||(t[19]=s("span",{class:"text-caption text-info font-weight-medium"},"参数说明：",-1))]),s("p",gt,g(R(e.key)),1)])):x("",!0)]),_:2},1024)]),_:2},1032,["class"]))),128))]))])]),_:1},8,["modelValue"])]),_:1}),a(X),a(te,{class:"dialog-actions"},{default:v(()=>[a(K),a(q,{variant:"outlined",onClick:oe,disabled:C.value},{default:v(()=>t[20]||(t[20]=[f(" 取消 ")])),_:1,__:[20]},8,["disabled"]),a(q,{color:"primary",variant:"elevated",onClick:ne,loading:C.value,disabled:!V.value},{default:v(()=>[f(g(B.value?"保存修改":"创建项目"),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},bt=W(yt,[["__scopeId","data-v-bcc20de3"]]);const ht=Se({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1==0},totalVisible:[Number,String],firstIcon:{type:$e,default:"$first"},prevIcon:{type:$e,default:"$prev"},nextIcon:{type:$e,default:"$next"},lastIcon:{type:$e,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...pe(),...Le(),...ce(),...ue(),...de(),...re(),...ne({tag:"nav"}),...Ne(),...oe({variant:"text"})},"VPagination"),xt=ke()({name:"VPagination",props:ht(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(t,r){let{slots:u,emit:c}=r;const p=Pe(t,"modelValue"),{t:m,n:v}=Be(),{isRtl:f}=Fe(),{themeClasses:g}=Ae(t),{width:y}=Ee(),b=S(-1);De(void 0,{scoped:!0});const{resizeRef:h}=Re(e=>{if(!e.length)return;const{target:t,contentRect:a}=e[0],l=t.querySelector(".v-pagination__list > *");if(!l)return;const i=a.width,s=l.offsetWidth+2*parseFloat(getComputedStyle(l).marginRight);b.value=T(i,s)}),x=d(()=>parseInt(t.length,10)),w=d(()=>parseInt(t.start,10)),P=d(()=>null!=t.totalVisible?parseInt(t.totalVisible,10):b.value>=0?b.value:T(y.value,58));function T(e,a){const l=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((e-a*l)/a).toFixed(2))))}const V=d(()=>{if(x.value<=0||isNaN(x.value)||x.value>Number.MAX_SAFE_INTEGER)return[];if(P.value<=0)return[];if(1===P.value)return[p.value];if(x.value<=P.value)return ze(x.value,w.value);const e=P.value%2==0,a=e?P.value/2:Math.floor(P.value/2),l=e?a:a+1,i=x.value-a;if(l-p.value>=0)return[...ze(Math.max(1,P.value-1),w.value),t.ellipsis,x.value];if(p.value-i>=(e?1:0)){const e=P.value-1,a=x.value-e+w.value;return[w.value,t.ellipsis,...ze(e,a)]}{const e=Math.max(1,P.value-2),a=1===e?p.value:p.value-Math.ceil(e/2)+w.value;return[w.value,t.ellipsis,...ze(e,a),t.ellipsis,x.value]}});function C(e,t,a){e.preventDefault(),p.value=t,a&&c(a,t)}const{refs:I,updateRef:B}=function(){const t=e([]);return k(()=>t.value=[]),{refs:t,updateRef:function(e,a){t.value[a]=e}}}();De({VPaginationBtn:{color:i(()=>t.color),border:i(()=>t.border),density:i(()=>t.density),size:i(()=>t.size),variant:i(()=>t.variant),rounded:i(()=>t.rounded),elevation:i(()=>t.elevation)}});const F=d(()=>V.value.map((e,a)=>{const l=e=>B(e,a);if("string"==typeof e)return{isActive:!1,key:`ellipsis-${a}`,page:e,props:{ref:l,ellipsis:!0,icon:!0,disabled:!0}};{const a=e===p.value;return{isActive:a,key:e,page:v(e),props:{ref:l,ellipsis:!1,icon:!0,disabled:!!t.disabled||Number(t.length)<2,color:a?t.activeColor:t.color,"aria-current":a,"aria-label":m(a?t.currentPageAriaLabel:t.pageAriaLabel,e),onClick:t=>C(t,e)}}}})),A=d(()=>{const e=!!t.disabled||p.value<=w.value,a=!!t.disabled||p.value>=w.value+x.value-1;return{first:t.showFirstLastPage?{icon:f.value?t.lastIcon:t.firstIcon,onClick:e=>C(e,w.value,"first"),disabled:e,"aria-label":m(t.firstAriaLabel),"aria-disabled":e}:void 0,prev:{icon:f.value?t.nextIcon:t.prevIcon,onClick:e=>C(e,p.value-1,"prev"),disabled:e,"aria-label":m(t.previousAriaLabel),"aria-disabled":e},next:{icon:f.value?t.prevIcon:t.nextIcon,onClick:e=>C(e,p.value+1,"next"),disabled:a,"aria-label":m(t.nextAriaLabel),"aria-disabled":a},last:t.showFirstLastPage?{icon:f.value?t.firstIcon:t.lastIcon,onClick:e=>C(e,w.value+x.value-1,"last"),disabled:a,"aria-label":m(t.lastAriaLabel),"aria-disabled":a}:void 0}});function E(){const e=p.value-w.value;I.value[e]?.$el.focus()}function D(e){e.key===Oe.left&&!t.disabled&&p.value>Number(t.start)?(p.value=p.value-1,_(E)):e.key===Oe.right&&!t.disabled&&p.value<w.value+x.value-1&&(p.value=p.value+1,_(E))}return Te(()=>a(t.tag,{ref:h,class:n(["v-pagination",g.value,t.class]),style:o(t.style),role:"navigation","aria-label":m(t.ariaLabel),onKeydown:D,"data-test":"v-pagination-root"},{default:()=>[s("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&s("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[u.first?u.first(A.value.first):a(q,l({_as:"VPaginationBtn"},A.value.first),null)]),s("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[u.prev?u.prev(A.value.prev):a(q,l({_as:"VPaginationBtn"},A.value.prev),null)]),F.value.map((e,t)=>s("li",{key:e.key,class:n(["v-pagination__item",{"v-pagination__item--is-active":e.isActive}]),"data-test":"v-pagination-item"},[u.item?u.item(e):a(q,l({_as:"VPaginationBtn"},e.props),{default:()=>[e.page]})])),s("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[u.next?u.next(A.value.next):a(q,l({_as:"VPaginationBtn"},A.value.next),null)]),t.showFirstLastPage&&s("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[u.last?u.last(A.value.last):a(q,l({_as:"VPaginationBtn"},A.value.last),null)])])]})),{}}}),wt=Se({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),_t=Symbol.for("vuetify:data-table-pagination");function kt(e){return{page:Pe(e,"page",void 0,e=>Number(e??1)),itemsPerPage:Pe(e,"itemsPerPage",void 0,e=>Number(e??10))}}function St(e){const{page:t,itemsPerPage:a,itemsLength:l}=e,i=d(()=>-1===a.value?0:a.value*(t.value-1)),s=d(()=>-1===a.value?l.value:Math.min(l.value,i.value+a.value)),o=d(()=>-1===a.value||0===l.value?1:Math.ceil(l.value/a.value));c([t,o],()=>{t.value>o.value&&(t.value=o.value)});const n={page:t,itemsPerPage:a,startIndex:i,stopIndex:s,pageCount:o,itemsLength:l,nextPage:function(){t.value=je(t.value+1,1,o.value)},prevPage:function(){t.value=je(t.value-1,1,o.value)},setPage:function(e){t.value=je(e,1,o.value)},setItemsPerPage:function(e){a.value=e,t.value=1}};return T(_t,n),n}const Pt=Se({prevIcon:{type:$e,default:"$prev"},nextIcon:{type:$e,default:"$next"},firstIcon:{type:$e,default:"$first"},lastIcon:{type:$e,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Tt=ke()({name:"VDataTableFooter",props:Pt(),setup(e,t){let{slots:i}=t;const{t:o}=Be(),{page:n,pageCount:r,startIndex:u,stopIndex:c,itemsLength:p,itemsPerPage:m,setItemsPerPage:v}=function(){const e=P(_t);if(!e)throw new Error("Missing pagination!");return e}(),f=d(()=>e.itemsPerPageOptions.map(e=>"number"==typeof e?{value:e,title:-1===e?o("$vuetify.dataFooter.itemsPerPageAll"):String(e)}:{...e,title:isNaN(Number(e.title))?o(e.title):e.title}));return Te(()=>{const t=xt.filterProps(e);return s("div",{class:"v-data-table-footer"},[i.prepend?.(),s("div",{class:"v-data-table-footer__items-per-page"},[s("span",{"aria-label":o(e.itemsPerPageText)},[o(e.itemsPerPageText)]),a(_e,{items:f.value,modelValue:m.value,"onUpdate:modelValue":e=>v(Number(e)),density:"compact",variant:"outlined","hide-details":!0},null)]),s("div",{class:"v-data-table-footer__info"},[s("div",null,[o(e.pageText,p.value?u.value+1:0,c.value,p.value)])]),s("div",{class:"v-data-table-footer__pagination"},[a(xt,l({modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:r.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},t),null)])])}),{}}}),Vt=Ue({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:l}=t;const i=e.tag??"td",s="string"==typeof e.fixed?e.fixed:e.fixed?"start":"none";return a(i,{class:n(["v-data-table__td",{"v-data-table-column--fixed":"start"===s,"v-data-table-column--fixed-end":"end"===s,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:We(e.height),width:We(e.width),maxWidth:We(e.maxWidth),left:"start"===s?We(e.fixedOffset||null):void 0,right:"end"===s?We(e.fixedEndOffset||null):void 0}},{default:()=>[l.default?.()]})}),Ct=Se({headers:Array},"DataTable-header"),It=Symbol.for("vuetify:data-table-headers"),Bt={title:"",sortable:!1},Ft={...Bt,width:48};function At(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.children)for(const a of e.children)At(a,t);else t.push(e);return t}function Et(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;for(const a of e)a.key&&t.add(a.key),a.children&&Et(a.children,t);return t}function Dt(e){if(e.key)return"data-table-group"===e.key?Bt:["data-table-expand","data-table-select"].includes(e.key)?Ft:void 0}function Rt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.children?Math.max(t,...e.children.map(e=>Rt(e,t+1))):t}function zt(e,t){const a=[];let l=0;const i=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>({element:e,priority:0}));return{enqueue:(t,a)=>{let l=!1;for(let i=0;i<e.length;i++)if(e[i].priority>a){e.splice(i,0,{element:t,priority:a}),l=!0;break}l||e.push({element:t,priority:a})},size:()=>e.length,count:()=>{let t=0;if(!e.length)return 0;const a=Math.floor(e[0].priority);for(let l=0;l<e.length;l++)Math.floor(e[l].priority)===a&&(t+=1);return t},dequeue:()=>e.shift()}}(e);for(;i.size()>0;){let e=i.count();const s=[];let o=1;for(;e>0;){const{element:a,priority:n}=i.dequeue(),r=t-l-Rt(a);if(s.push({...a,rowspan:r??1,colspan:a.children?At(a).length:1}),a.children)for(const e of a.children){const t=n%1+o/Math.pow(10,l+2);i.enqueue(e,l+r+t)}o+=1,e-=1}l+=1,a.push(s)}return{columns:e.map(e=>At(e)).flat(),headers:a}}function Nt(e){const t=[];for(const a of e){const e={...Dt(a),...a},l=e.key??("string"==typeof e.value?e.value:null),i=e.value??l??null,s={...e,key:l,value:i,sortable:e.sortable??(null!=e.key||!!e.sort),children:e.children?Nt(e.children):void 0};t.push(s)}return t}function Lt(t,a){const l=e([]),i=e([]),s=e({}),o=e({}),n=e({});V(()=>{const e=(t.headers||Object.keys(t.items[0]??{}).map(e=>({key:e,title:C(e)}))).slice(),r=Et(e);a?.groupBy?.value.length&&!r.has("data-table-group")&&e.unshift({key:"data-table-group",title:"Group"}),a?.showSelect?.value&&!r.has("data-table-select")&&e.unshift({key:"data-table-select"}),a?.showExpand?.value&&!r.has("data-table-expand")&&e.push({key:"data-table-expand"});const d=Nt(e);!function(e){let t=!1;function a(e,l){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";if(!e)return;"none"!==i&&(e.fixed=i),!0===e.fixed&&(e.fixed="start");const s="start"===l?e.children?.toReversed():e.children;if(e.fixed===l)if(s)for(const t of s)a(t,l,l);else t||"start"!==l?t||"end"!==l?isNaN(Number(e.width))?Ge(`Multiple fixed columns should have a static width (key: ${e.key})`):e.minWidth=Math.max(Number(e.width)||0,Number(e.minWidth)||0):e.firstFixedEnd=!0:e.lastFixed=!0,t=!0;else if(s)for(const t of s)a(t,l);else t=!1}for(const n of e.toReversed())a(n,"start");for(const n of e)a(n,"end");function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const a of e.children)t=l(a,t)}else e.fixed&&"end"!==e.fixed&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}let i=0;for(const n of e)i=l(n,i);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const a of e.children)t=s(a,t)}else"end"===e.fixed&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}let o=0;for(const n of e.toReversed())o=s(n,o)}(d);const u=Math.max(...d.map(e=>Rt(e)))+1,c=zt(d,u);l.value=c.headers,i.value=c.columns;const p=c.headers.flat(1);for(const t of p)t.key&&(t.sortable&&(t.sort&&(s.value[t.key]=t.sort),t.sortRaw&&(o.value[t.key]=t.sortRaw)),t.filter&&(n.value[t.key]=t.filter))});const r={headers:l,columns:i,sortFunctions:s,sortRawFunctions:o,filterFunctions:n};return T(It,r),r}function $t(){const e=P(It);if(!e)throw new Error("Missing headers!");return e}const Ot={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:a}=e;return new Set(a?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},jt={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:a,selected:l}=e;for(const i of t)a?l.add(i.value):l.delete(i.value);return l},selectAll:e=>{let{value:t,currentPage:a,selected:l}=e;return jt.select({items:a,value:t,selected:l})}},Mt={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:a,selected:l}=e;for(const i of t)a?l.add(i.value):l.delete(i.value);return l},selectAll:e=>{let{value:t,allItems:a,selected:l}=e;return Mt.select({items:a,value:t,selected:l})}},Ut=Se({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Ke}},"DataTable-select"),Wt=Symbol.for("vuetify:data-table-selection");function Gt(e,t){let{allItems:a,currentPage:l}=t;const s=Pe(e,"modelValue",e.modelValue,t=>new Set(He(t).map(t=>a.value.find(a=>e.valueComparator(t,a.value))?.value??t)),e=>[...e.values()]),o=d(()=>a.value.filter(e=>e.selectable)),n=d(()=>l.value.filter(e=>e.selectable)),r=d(()=>{if("object"==typeof e.selectStrategy)return e.selectStrategy;switch(e.selectStrategy){case"single":return Ot;case"all":return Mt;default:return jt}}),u=S(null);function c(e){return He(e).every(e=>s.value.has(e.value))}function p(e,t){const a=r.value.select({items:e,value:t,selected:new Set(s.value)});s.value=a}const m=d(()=>s.value.size>0),v=d(()=>{const e=r.value.allSelected({allItems:o.value,currentPage:n.value});return!!e.length&&c(e)}),f={toggleSelect:function(t,a,i){const s=[];if(a=a??l.value.findIndex(e=>e.value===t.value),"single"!==e.selectStrategy&&i?.shiftKey&&null!==u.value){const[e,t]=[u.value,a].sort((e,t)=>e-t);s.push(...l.value.slice(e,t+1).filter(e=>e.selectable))}else s.push(t),u.value=a;p(s,!c([t]))},select:p,selectAll:function(e){const t=r.value.selectAll({value:e,allItems:o.value,currentPage:n.value,selected:new Set(s.value)});s.value=t},isSelected:c,isSomeSelected:function(e){return He(e).some(e=>s.value.has(e.value))},someSelected:m,allSelected:v,showSelectAll:i(()=>r.value.showSelectAll),lastSelectedIndex:u,selectStrategy:r};return T(Wt,f),f}function Ht(){const e=P(Wt);if(!e)throw new Error("Missing selection!");return e}const Kt=Se({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),qt=Symbol.for("vuetify:data-table-sort");function Xt(e){return{sortBy:Pe(e,"sortBy"),mustSort:i(()=>e.mustSort),multiSort:i(()=>e.multiSort)}}function Yt(e){const{sortBy:t,mustSort:a,multiSort:l,page:i}=e;const s={sortBy:t,toggleSort:e=>{if(null==e.key)return;let s=t.value.map(e=>({...e}))??[];const o=s.find(t=>t.key===e.key);o?"desc"===o.order?a.value&&1===s.length?o.order="asc":s=s.filter(t=>t.key!==e.key):o.order="desc":l.value?s.push({key:e.key,order:"asc"}):s=[{key:e.key,order:"asc"}],t.value=s,i&&(i.value=1)},isSorted:function(e){return!!t.value.find(t=>t.key===e.key)}};return T(qt,s),s}function Zt(){const e=P(qt);if(!e)throw new Error("Missing sort!");return e}function Qt(e,t,a,l){const i=Be(),s=d(()=>a.value.length?function(e,t,a,l){const i=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"}),s=e.map(e=>[e,l?.transform?l.transform(e):e]);return s.sort((e,a)=>{for(let s=0;s<t.length;s++){let o=!1;const n=t[s].key,r=t[s].order??"asc";if(!1===r)continue;let d=qe(e[1],n),u=qe(a[1],n),c=e[0].raw,p=a[0].raw;if("desc"===r&&([d,u]=[u,d],[c,p]=[p,c]),l?.sortRawFunctions?.[n]){const e=l.sortRawFunctions[n](c,p);if(null==e)continue;if(o=!0,e)return e}if(l?.sortFunctions?.[n]){const e=l.sortFunctions[n](d,u);if(null==e)continue;if(o=!0,e)return e}if(!o&&(d instanceof Date&&u instanceof Date&&(d=d.getTime(),u=u.getTime()),[d,u]=[d,u].map(e=>null!=e?e.toString().toLocaleLowerCase():e),d!==u))return Xe(d)&&Xe(u)?0:Xe(d)?-1:Xe(u)?1:isNaN(d)||isNaN(u)?i.compare(d,u):Number(d)-Number(u)}return 0}).map(e=>{let[t]=e;return t})}(t.value,a.value,i.current.value,{transform:l?.transform,sortFunctions:{...e.customKeySort,...l?.sortFunctions?.value},sortRawFunctions:l?.sortRawFunctions?.value}):t.value);return{sortedItems:s}}const Jt=Se({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:$e,default:"$sortAsc"},sortDescIcon:{type:$e,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...Ye(),...ve()},"VDataTableHeaders"),ea=ke()({name:"VDataTableHeaders",props:Jt(),setup(e,t){let{slots:i}=t;const{t:u}=Be(),{toggleSort:c,sortBy:p,isSorted:m}=Zt(),{someSelected:v,allSelected:f,selectAll:g,showSelectAll:y}=Ht(),{columns:b,headers:h}=$t(),{loaderClasses:x}=L(e);function w(t,a){if(!e.sticky&&!e.fixedHeader&&!t.fixed)return;const l="string"==typeof t.fixed?t.fixed:t.fixed?"start":"none";return{position:"sticky",left:"start"===l?We(t.fixedOffset):void 0,right:"end"===l?We(t.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${a})`:void 0}}function _(t){const a=p.value.find(e=>e.key===t.key);return a?"asc"===a.order?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:k,backgroundColorStyles:S}=me(()=>e.color),{displayClasses:P,mobile:T}=Ee(e),V=d(()=>({headers:h.value,columns:b.value,toggleSort:c,isSorted:m,sortBy:p.value,someSelected:v.value,allSelected:f.value,selectAll:g,getSortIcon:_})),C=d(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},P.value,x.value]),I=t=>{let{column:r,x:d,y:u}=t;const b="data-table-select"===r.key||"data-table-expand"===r.key,h=l(e.headerProps??{},r.headerProps??{});return a(Vt,l({tag:"th",align:r.align,class:[{"v-data-table__th--sortable":r.sortable&&!e.disableSort,"v-data-table__th--sorted":m(r),"v-data-table__th--fixed":r.fixed},...C.value],style:{width:We(r.width),minWidth:We(r.minWidth),maxWidth:We(r.maxWidth),...w(r,u)},colspan:r.colspan,rowspan:r.rowspan,fixed:r.fixed,nowrap:r.nowrap,lastFixed:r.lastFixed,firstFixedEnd:r.firstFixedEnd,noPadding:b,tabindex:r.sortable?0:void 0,onClick:r.sortable?()=>c(r):void 0,onKeydown:r.sortable?t=>function(t,a){"Enter"!==t.key||e.disableSort||c(a)}(t,r):void 0},h),{default:()=>{const t=`header.${r.key}`,l={column:r,selectAll:g,isSorted:m,toggleSort:c,sortBy:p.value,someSelected:v.value,allSelected:f.value,getSortIcon:_};return i[t]?i[t](l):"data-table-select"===r.key?i["header.data-table-select"]?.(l)??(y.value&&a(be,{modelValue:f.value,indeterminate:v.value&&!f.value,"onUpdate:modelValue":g},null)):s("div",{class:"v-data-table-header__content"},[s("span",null,[r.title]),r.sortable&&!e.disableSort&&a(j,{key:"icon",class:"v-data-table-header__sort-icon",icon:_(r)},null),e.multiSort&&m(r)&&s("div",{key:"badge",class:n(["v-data-table-header__sort-badge",...k.value]),style:o(S.value)},[p.value.findIndex(e=>e.key===r.key)+1])])}})},B=()=>{const t=d(()=>b.value.filter(t=>t?.sortable&&!e.disableSort)),o=d(()=>{if(null!=b.value.find(e=>"data-table-select"===e.key))return f.value?"$checkboxOn":v.value?"$checkboxIndeterminate":"$checkboxOff"});return a(Vt,l({tag:"th",class:[...C.value],colspan:h.value.length+1},e.headerProps),{default:()=>[s("div",{class:"v-data-table-header__content"},[a(_e,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:t.value,label:u("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>p.value=[],appendIcon:o.value,"onClick:append":()=>g(!f.value)},{...i,chip:e=>a(fe,{onClick:e.item.raw?.sortable?()=>c(e.item.raw):void 0,onMousedown:e=>{e.preventDefault(),e.stopPropagation()}},{default:()=>[e.item.title,a(j,{class:n(["v-data-table__td-sort-icon",m(e.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:_(e.item.raw),size:"small"},null)]})})])]})};Te(()=>T.value?s("tr",null,[a(B,null,null)]):s(r,null,[i.headers?i.headers(V.value):h.value.map((e,t)=>s("tr",null,[e.map((e,l)=>a(I,{column:e,x:l,y:t},null))])),e.loading&&s("tr",{class:"v-data-table-progress"},[s("th",{colspan:b.value.length},[a(M,{name:"v-data-table-progress",absolute:!0,active:!0,color:"boolean"==typeof e.loading?void 0:e.loading,indeterminate:!0},{default:i.loader})])])]))}}),ta=Se({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),aa=Symbol.for("vuetify:data-table-group");function la(e){return{groupBy:Pe(e,"groupBy")}}function ia(t){const{disableSort:a,groupBy:l,sortBy:i}=t,s=e(new Set);function o(e){return s.value.has(e.id)}const n={sortByWithGroups:d(()=>l.value.map(e=>({...e,order:e.order??!1})).concat(a?.value?[]:i.value)),toggleGroup:function(e){const t=new Set(s.value);o(e)?t.delete(e.id):t.add(e.id),s.value=t},opened:s,groupBy:l,extractRows:function(e){return function e(t){const a=[];for(const l of t.items)"type"in l&&"group"===l.type?a.push(...e(l)):a.push(l);return[...new Set(a)]}({items:e})},isGroupOpen:o};return T(aa,n),n}function sa(){const e=P(aa);if(!e)throw new Error("Missing group!");return e}function oa(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"root";if(!t.length)return[];const i=function(e,t){if(!e.length)return[];const a=new Map;for(const l of e){const e=qe(l.raw,t);a.has(e)||a.set(e,[]),a.get(e).push(l)}return a}(e,t[0]),s=[],o=t.slice(1);return i.forEach((e,i)=>{const n=t[0],r=`${l}_${n}_${i}`;s.push({depth:a,id:r,key:n,value:i,items:o.length?oa(e,o,a+1,r):e,type:"group"})}),s}function na(e,t){const a=[];for(const l of e)"type"in l&&"group"===l.type?(null!=l.value&&a.push(l),(t.has(l.id)||null==l.value)&&a.push(...na(l.items,t))):a.push(l);return a}function ra(e,t,a){return{flatItems:d(()=>{if(!t.value.length)return e.value;return na(oa(e.value,t.value.map(e=>e.key)),a.value)})}}const da=Se({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ua=ke()({name:"VDataTableGroupHeaderRow",props:da(),setup(e,t){let{slots:l}=t;const{isGroupOpen:i,toggleGroup:o,extractRows:n}=sa(),{isSelected:r,isSomeSelected:u,select:c}=Ht(),{columns:p}=$t(),m=d(()=>n([e.item]));return()=>s("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[p.value.map(t=>{if("data-table-group"===t.key){const t=i(e.item)?"$expand":"$next",n=()=>o(e.item);return l["data-table-group"]?.({item:e.item,count:m.value.length,props:{icon:t,onClick:n}})??a(Vt,{class:"v-data-table-group-header-row__column"},{default:()=>[a(q,{size:"small",variant:"text",icon:t,onClick:n},null),s("span",null,[e.item.value]),s("span",null,[f("("),m.value.length,f(")")])]})}if("data-table-select"===t.key){const e=r(m.value),t=u(m.value)&&!e,i=e=>c(m.value,e);return l["data-table-select"]?.({props:{modelValue:e,indeterminate:t,"onUpdate:modelValue":i}})??s("td",null,[a(be,{modelValue:e,indeterminate:t,"onUpdate:modelValue":i},null)])}return s("td",null,null)})])}}),ca=Se({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),pa=Symbol.for("vuetify:datatable:expanded");function ma(e){const t=i(()=>e.expandOnClick),a=Pe(e,"expanded",e.expanded,e=>new Set(e),e=>[...e.values()]);function l(e,t){const l=new Set(a.value);t?l.add(e.value):l.delete(e.value),a.value=l}function s(e){return a.value.has(e.value)}const o={expand:l,expanded:a,expandOnClick:t,isExpanded:s,toggleExpand:function(e){l(e,!s(e))}};return T(pa,o),o}function va(){const e=P(pa);if(!e)throw new Error("foo");return e}const fa=Se({index:Number,item:Object,cellProps:[Object,Function],onClick:Ze(),onContextmenu:Ze(),onDblclick:Ze(),...Ye()},"VDataTableRow"),ga=ke()({name:"VDataTableRow",props:fa(),setup(e,t){let{slots:i}=t;const{displayClasses:o,mobile:d}=Ee(e,"v-data-table__tr"),{isSelected:u,toggleSelect:c,someSelected:p,allSelected:m,selectAll:v}=Ht(),{isExpanded:f,toggleExpand:b}=va(),{toggleSort:h,sortBy:x,isSorted:w}=Zt(),{columns:_}=$t();Te(()=>s("tr",{class:n(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},o.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&_.value.map((t,o)=>{const n=e.item,_=`item.${t.key}`,k=`header.${t.key}`,S={index:e.index,item:n.raw,internalItem:n,value:qe(n.columns,t.key),column:t,isSelected:u,toggleSelect:c,isExpanded:f,toggleExpand:b},P={column:t,selectAll:v,isSorted:w,toggleSort:h,sortBy:x.value,someSelected:p.value,allSelected:m.value,getSortIcon:()=>""},T="function"==typeof e.cellProps?e.cellProps({index:S.index,item:S.item,internalItem:S.internalItem,value:S.value,column:t}):e.cellProps,V="function"==typeof t.cellProps?t.cellProps({index:S.index,item:S.item,internalItem:S.internalItem,value:S.value}):t.cellProps;return a(Vt,l({align:t.align,class:{"v-data-table__td--expanded-row":"data-table-expand"===t.key,"v-data-table__td--select-row":"data-table-select"===t.key},fixed:t.fixed,fixedOffset:t.fixedOffset,fixedEndOffset:t.fixedEndOffset,lastFixed:t.lastFixed,firstFixedEnd:t.firstFixedEnd,maxWidth:d.value?void 0:t.maxWidth,noPadding:"data-table-select"===t.key||"data-table-expand"===t.key,nowrap:t.nowrap,width:d.value?void 0:t.width},T,V),{default:()=>{if("data-table-select"===t.key)return i["item.data-table-select"]?.({...S,props:{disabled:!n.selectable,modelValue:u([n]),onClick:y(()=>c(n),["stop"])}})??a(be,{disabled:!n.selectable,modelValue:u([n]),onClick:y(t=>c(n,e.index,t),["stop"])},null);if("data-table-expand"===t.key)return i["item.data-table-expand"]?.({...S,props:{icon:f(n)?"$collapse":"$expand",size:"small",variant:"text",onClick:y(()=>b(n),["stop"])}})??a(q,{icon:f(n)?"$collapse":"$expand",size:"small",variant:"text",onClick:y(()=>b(n),["stop"])},null);if(i[_]&&!d.value)return i[_](S);const l=g(S.value);return d.value?s(r,null,[s("div",{class:"v-data-table__td-title"},[i[k]?.(P)??t.title]),s("div",{class:"v-data-table__td-value"},[i[_]?.(S)??l])]):l}})})]))}}),ya=Se({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Ye()},"VDataTableRows"),ba=ke()({name:"VDataTableRows",inheritAttrs:!1,props:ya(),setup(e,t){let{attrs:i,slots:o}=t;const{columns:n}=$t(),{expandOnClick:d,toggleExpand:u,isExpanded:c}=va(),{isSelected:p,toggleSelect:m}=Ht(),{toggleGroup:v,isGroupOpen:f}=sa(),{t:g}=Be(),{mobile:y}=Ee(e);return Te(()=>!e.loading||e.items.length&&!o.loading?e.loading||e.items.length||e.hideNoData?s(r,null,[e.items.map((t,g)=>{if("group"===t.type){const e={index:g,item:t,columns:n.value,isExpanded:c,toggleExpand:u,isSelected:p,toggleSelect:m,toggleGroup:v,isGroupOpen:f};return o["group-header"]?o["group-header"](e):a(ua,l({key:`group-header_${t.id}`,item:t},Qe(i,":group-header",()=>e)),o)}const b={index:g,item:t.raw,internalItem:t,columns:n.value,isExpanded:c,toggleExpand:u,isSelected:p,toggleSelect:m},h={...b,props:l({key:`item_${t.key??t.index}`,onClick:d.value?()=>{u(t)}:void 0,index:g,item:t,cellProps:e.cellProps,mobile:y.value},Qe(i,":row",()=>b),"function"==typeof e.rowProps?e.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):e.rowProps)};return s(r,{key:h.props.key},[o.item?o.item(h):a(ga,h.props,o),c(t)&&o["expanded-row"]?.(b)])})]):s("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[s("td",{colspan:n.value.length},[o["no-data"]?.()??g(e.noDataText)])]):s("tr",{class:"v-data-table-rows-loading",key:"loading"},[s("td",{colspan:n.value.length},[o.loading?.()??g(e.loadingText)])])),{}}}),ha=Se({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...Le(),...ce(),...ne(),...Ne()},"VTable"),xa=ke()({name:"VTable",props:ha(),setup(e,t){let{slots:l,emit:i}=t;const{themeClasses:r}=Ae(e),{densityClasses:d}=ge(e);return Te(()=>a(e.tag,{class:n(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":e.hover,"v-table--striped-even":"even"===e.striped,"v-table--striped-odd":"odd"===e.striped},r.value,d.value,e.class]),style:o(e.style)},{default:()=>[l.top?.(),l.default?s("div",{class:"v-table__wrapper",style:{height:We(e.height)}},[s("table",null,[l.default()])]):l.wrapper?.(),l.bottom?.()]})),{}}}),wa=Se({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function _a(e,t,a){return t.map((t,l)=>function(e,t,a,l){const i=e.returnObject?t:Je(t,e.itemValue),s=Je(t,e.itemSelectable,!0),o=l.reduce((e,a)=>(null!=a.key&&(e[a.key]=Je(t,a.value)),e),{});return{type:"item",key:e.returnObject?Je(t,e.itemValue):i,index:a,value:i,selectable:s,columns:o,raw:t}}(e,t,l,a))}function ka(e,t){return{items:d(()=>_a(e,e.items,t.value))}}function Sa(e){let{page:t,itemsPerPage:a,sortBy:l,groupBy:i,search:s}=e;const o=Me("VDataTable");let n=null;c(()=>({page:t.value,itemsPerPage:a.value,sortBy:l.value,groupBy:i.value,search:s.value}),e=>{Ke(n,e)||(n&&n.search!==e.search&&(t.value=1),o.emit("update:options",e),n=e)},{deep:!0,immediate:!0})}const Pa=(e,t,a)=>{if(null==e||null==t)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const l=[];let i=e.indexOf(t);for(;~i;)l.push([i,i+t.length]),i=e.indexOf(t,i+t.length);return l.length?l:-1};function Ta(e,t){if(null!=e&&"boolean"!=typeof e&&-1!==e)return"number"==typeof e?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const Va=Se({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Ca(e,t,a,l){const i=S([]),s=S(new Map),o=d(()=>l?.transform?I(t).map(e=>[e,l.transform(e)]):I(t));return V(()=>{const n="function"==typeof a?a():I(a),r="string"!=typeof n&&"number"!=typeof n?"":String(n),d=function(e,t,a){const l=[],i=a?.default??Pa,s=!!a?.filterKeys&&He(a.filterKeys),o=Object.keys(a?.customKeyFilter??{}).length;if(!e?.length)return l;e:for(let n=0;n<e.length;n++){const[r,d=r]=He(e[n]),u={},c={};let p=-1;if((t||o>0)&&!a?.noFilter){if("object"==typeof r){if("divider"===r.type||"subheader"===r.type)continue;const e=s||Object.keys(d);for(const l of e){const e=Je(d,l),s=a?.customKeyFilter?.[l];if(p=s?s(e,t,r):i(e,t,r),-1!==p&&!1!==p)s?u[l]=Ta(p,t):c[l]=Ta(p,t);else if("every"===a?.filterMode)continue e}}else p=i(r,t,r),-1!==p&&!1!==p&&(c.title=Ta(p,t));const e=Object.keys(c).length,l=Object.keys(u).length;if(!e&&!l)continue;if("union"===a?.filterMode&&l!==o&&!e)continue;if("intersection"===a?.filterMode&&(l!==o||!e))continue}l.push({index:n,matches:{...c,...u}})}return l}(o.value,r,{customKeyFilter:{...e.customKeyFilter,...I(l?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),u=I(t),c=[],p=new Map;d.forEach(e=>{let{index:t,matches:a}=e;const l=u[t];c.push(l),p.set(l.value,a)}),i.value=c,s.value=p}),{filteredItems:i,filteredMatches:s,getMatches:function(e){return s.value.get(e.value)}}}const Ia=Se({...ya(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...ca(),...ta(),...Ct(),...wa(),...Ut(),...Kt(),...Jt(),...ha()},"DataTable"),Ba=Se({...wt(),...Ia(),...Va(),...Pt()},"VDataTable");ke()({name:"VDataTable",props:Ba(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:o,slots:n}=t;const{groupBy:u}=la(e),{sortBy:p,multiSort:m,mustSort:v}=Xt(e),{page:f,itemsPerPage:g}=kt(e),{disableSort:y}=B(e),{columns:b,headers:h,sortFunctions:x,sortRawFunctions:w,filterFunctions:_}=Lt(e,{groupBy:u,showSelect:i(()=>e.showSelect),showExpand:i(()=>e.showExpand)}),{items:k}=ka(e,b),S=i(()=>e.search),{filteredItems:P}=Ca(e,k,S,{transform:e=>e.columns,customKeyFilter:_}),{toggleSort:T}=Yt({sortBy:p,multiSort:m,mustSort:v,page:f}),{sortByWithGroups:V,opened:C,extractRows:I,isGroupOpen:F,toggleGroup:A}=ia({groupBy:u,sortBy:p,disableSort:y}),{sortedItems:E}=Qt(e,P,V,{transform:e=>({...e.raw,...e.columns}),sortFunctions:x,sortRawFunctions:w}),{flatItems:D}=ra(E,u,C),R=d(()=>D.value.length),{startIndex:z,stopIndex:N,pageCount:L,setItemsPerPage:$}=St({page:f,itemsPerPage:g,itemsLength:R}),{paginatedItems:O}=function(e){const t=Me("usePaginatedItems"),{items:a,startIndex:l,stopIndex:i,itemsPerPage:s}=e,o=d(()=>s.value<=0?a.value:a.value.slice(l.value,i.value));return c(o,e=>{t.emit("update:currentItems",e)},{immediate:!0}),{paginatedItems:o}}({items:D,startIndex:z,stopIndex:N,itemsPerPage:g}),j=d(()=>I(O.value)),{isSelected:M,select:U,selectAll:W,toggleSelect:G,someSelected:H,allSelected:K}=Gt(e,{allItems:k,currentPage:j}),{isExpanded:q,toggleExpand:Y}=ma(e);Sa({page:f,itemsPerPage:g,sortBy:p,groupBy:u,search:S}),De({VDataTableRows:{hideNoData:i(()=>e.hideNoData),noDataText:i(()=>e.noDataText),loading:i(()=>e.loading),loadingText:i(()=>e.loadingText)}});const Z=d(()=>({page:f.value,itemsPerPage:g.value,sortBy:p.value,pageCount:L.value,toggleSort:T,setItemsPerPage:$,someSelected:H.value,allSelected:K.value,isSelected:M,select:U,selectAll:W,toggleSelect:G,isExpanded:q,toggleExpand:Y,isGroupOpen:F,toggleGroup:A,items:j.value.map(e=>e.raw),internalItems:j.value,groupedItems:O.value,columns:b.value,headers:h.value}));return Te(()=>{const t=Tt.filterProps(e),i=ea.filterProps(e),d=ba.filterProps(e),u=xa.filterProps(e);return a(xa,l({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},u,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>n.top?.(Z.value),default:()=>n.default?n.default(Z.value):s(r,null,[n.colgroup?.(Z.value),!e.hideDefaultHeader&&s("thead",{key:"thead"},[a(ea,i,n)]),n.thead?.(Z.value),!e.hideDefaultBody&&s("tbody",null,[n["body.prepend"]?.(Z.value),n.body?n.body(Z.value):a(ba,l(o,d,{items:O.value}),n),n["body.append"]?.(Z.value)]),n.tbody?.(Z.value),n.tfoot?.(Z.value)]),bottom:()=>n.bottom?n.bottom(Z.value):!e.hideDefaultFooter&&s(r,null,[a(X,null,null),a(Tt,t,{prepend:n["footer.prepend"]})])})}),{}}});const Fa=Se({itemsLength:{type:[Number,String],required:!0},...wt(),...Ia(),...Pt()},"VDataTableServer"),Aa=ke()({name:"VDataTableServer",props:Fa(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:o,slots:n}=t;const{groupBy:u}=la(e),{sortBy:c,multiSort:p,mustSort:m}=Xt(e),{page:v,itemsPerPage:f}=kt(e),{disableSort:g}=B(e),y=d(()=>parseInt(e.itemsLength,10)),{columns:b,headers:h}=Lt(e,{groupBy:u,showSelect:i(()=>e.showSelect),showExpand:i(()=>e.showExpand)}),{items:x}=ka(e,b),{toggleSort:w}=Yt({sortBy:c,multiSort:p,mustSort:m,page:v}),{opened:_,isGroupOpen:k,toggleGroup:S,extractRows:P}=ia({groupBy:u,sortBy:c,disableSort:g}),{pageCount:V,setItemsPerPage:C}=St({page:v,itemsPerPage:f,itemsLength:y}),{flatItems:I}=ra(x,u,_),{isSelected:F,select:A,selectAll:E,toggleSelect:D,someSelected:R,allSelected:z}=Gt(e,{allItems:x,currentPage:x}),{isExpanded:N,toggleExpand:L}=ma(e),$=d(()=>P(x.value));Sa({page:v,itemsPerPage:f,sortBy:c,groupBy:u,search:i(()=>e.search)}),T("v-data-table",{toggleSort:w,sortBy:c}),De({VDataTableRows:{hideNoData:i(()=>e.hideNoData),noDataText:i(()=>e.noDataText),loading:i(()=>e.loading),loadingText:i(()=>e.loadingText)}});const O=d(()=>({page:v.value,itemsPerPage:f.value,sortBy:c.value,pageCount:V.value,toggleSort:w,setItemsPerPage:C,someSelected:R.value,allSelected:z.value,isSelected:F,select:A,selectAll:E,toggleSelect:D,isExpanded:N,toggleExpand:L,isGroupOpen:k,toggleGroup:S,items:$.value.map(e=>e.raw),internalItems:$.value,groupedItems:I.value,columns:b.value,headers:h.value}));Te(()=>{const t=Tt.filterProps(e),i=ea.filterProps(e),d=ba.filterProps(e),u=xa.filterProps(e);return a(xa,l({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},u,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>n.top?.(O.value),default:()=>n.default?n.default(O.value):s(r,null,[n.colgroup?.(O.value),!e.hideDefaultHeader&&s("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[a(ea,i,n)]),n.thead?.(O.value),!e.hideDefaultBody&&s("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[n["body.prepend"]?.(O.value),n.body?n.body(O.value):a(ba,l(o,d,{items:I.value}),n),n["body.append"]?.(O.value)]),n.tbody?.(O.value),n.tfoot?.(O.value)]),bottom:()=>n.bottom?n.bottom(O.value):!e.hideDefaultFooter&&s(r,null,[a(X,null,null),a(Tt,t,{prepend:n["footer.prepend"]})])})})}}),Ea={class:"project-management-view"},Da={class:"d-flex align-center justify-space-between"},Ra={class:"d-flex align-center"},za={class:"d-flex gap-4"},Na={class:"text-body-2 text-medium-emphasis text-center"},La={class:"d-flex align-center"},$a={class:"flex-grow-1"},Oa={class:"font-weight-bold"},ja={class:"d-flex align-center text-caption text-medium-emphasis"},Ma={class:"mr-2"},Ua={key:0,class:"mt-2"},Wa={class:"d-flex align-center mb-1"},Ga={class:"text-caption text-medium-emphasis"},Ha={class:"mobile-deployment-info"},Ka={key:0,class:"d-flex align-center mb-1"},qa={key:1,class:"d-flex align-center"},Xa={class:"text-caption text-success"},Ya={class:"deployment-servers"},Za={key:0,class:"mb-2"},Qa={class:"d-flex align-center mb-1"},Ja={class:"server-path-tooltip"},el={class:"text-body-2"},tl={key:1,class:"mb-2"},al={class:"d-flex align-center mb-1"},ll={key:2},il={class:"d-flex align-center mb-1"},sl={class:"d-flex flex-wrap gap-1"},ol={class:"gpu-list-tooltip"},nl={class:"d-flex align-center"},rl={class:"text-body-2"},dl={key:0},ul={class:"args-tooltip"},cl={class:"d-flex align-center"},pl={class:"font-weight-medium text-primary"},ml={key:0,class:"ml-1 text-medium-emphasis"},vl={key:0,class:"text-caption text-medium-emphasis ml-4"},fl={key:1,class:"text-medium-emphasis"},gl={class:"d-flex align-center"},yl={class:"text-body-2 font-weight-medium"},bl={class:"d-flex gap-1"},hl={class:"d-flex gap-1"},xl={class:"text-center py-8"},wl={class:"text-body-2 text-medium-emphasis mb-4"},_l={__name:"index",setup(t){const i=E(),{confirmDelete:o,confirmToggleStatus:u,confirm:c}=ye(),{showSuccess:w,showError:_}=ie(),k=e(!1),S=e([]),P=e(""),T=e(1),V=e(10),C=e(0),I=e(window.innerWidth),B=e(!1),D=e(null),R=[{title:"10 条/页",value:10},{title:"20 条/页",value:20},{title:"50 条/页",value:50},{title:"100 条/页",value:100}],z=[{title:"项目名称",key:"pixelTwinName",sortable:!1,width:"220px"},{title:"部署服务器",key:"pixelTwinStartPath",sortable:!1,width:"380px"},{title:"启动参数",key:"pixelTwinArgs",sortable:!1,width:"120px"},{title:"显存大小",key:"graphicsMemory",sortable:!1,width:"100px"},{title:"服务状态",key:"serviceEnable",sortable:!1,width:"100px"},{title:"操作",key:"actions",sortable:!1,width:"250px"}],N=d(()=>{const e=I.value;return e<600?[{title:"项目信息",key:"pixelTwinName",sortable:!1},{title:"操作",key:"actions",sortable:!1,width:"120px"}]:e<960?[{title:"项目名称",key:"pixelTwinName",sortable:!1,width:"200px"},{title:"部署服务器",key:"pixelTwinStartPath",sortable:!1,width:"280px"},{title:"状态",key:"serviceEnable",sortable:!1,width:"80px"},{title:"操作",key:"actions",sortable:!1,width:"180px"}]:z}),L=()=>{I.value=window.innerWidth};F(()=>{window.addEventListener("resize",L)}),A(()=>{window.removeEventListener("resize",L)});const $=async(e={})=>{k.value=!0;try{const e={page:T.value,pageSize:V.value,search:P.value||""},t=await se.project.getProjectList({data:e});if(200!==t.code)throw new Error(t.message||"获取项目列表失败");S.value=t.data.list||[],C.value=t.data.total||0}catch(t){_(t.message||"加载项目列表失败"),S.value=[],C.value=0}finally{k.value=!1}},O=()=>{T.value=1,$()},M=()=>{T.value=1,$()},U=()=>{D.value=null,B.value=!0},W=e=>({"-PixelStreamingURL":"像素流传输URL，用于指定WebRTC连接的端点路径","-RenderOffScreen":"启用离屏渲染模式，提高性能并减少GPU资源占用","-Unattended":"无人值守模式，程序在后台运行无需用户交互","-AudioMixer":"启用音频混合器，处理多路音频输入输出","-PixelStreamingHideCursor":"隐藏像素流中的鼠标光标显示","-AllowPixelStreamingCommands":"允许通过像素流接收和执行远程命令","-ForceRes":"强制使用指定的分辨率设置","-ResX":"设置水平分辨率（像素宽度）","-ResY":"设置垂直分辨率（像素高度）","-PixelStreamingWebRTCFps":"设置WebRTC帧率，范围24-120fps，影响流传输的流畅度"}[e]||""),G=e=>{if(!e)return"";const t=e.split(/[\\/]/),a=t[t.length-1],l=t[t.length-2];return a&&l?`${l}/${a}`:a||e},K=async e=>{const t=`ws://${location.hostname}:3000/pixel-twin-player?pixelTwinId=${e.pixelTwinId}`;if(await c({title:"预览项目",subtitle:e.pixelTwinName,content:`\n      <div style="margin-bottom: 16px;">\n        <p style="margin-bottom: 12px; color: rgb(var(--v-theme-on-surface));">请确认或修改WebSocket连接地址后开始预览项目</p>\n        <div style="margin-bottom: 12px;">\n          <label style="display: block; margin-bottom: 8px; font-weight: 500; color: rgb(var(--v-theme-on-surface));">WebSocket连接地址:</label>\n          <input \n            id="preview-server-url" \n            type="text" \n            value="${t}"\n            style="\n              width: 100%; \n              padding: 12px; \n              border: 1px solid rgba(var(--v-theme-outline), 0.38);\n              border-radius: 8px;\n              font-size: 14px;\n              background: rgb(var(--v-theme-surface));\n              color: rgb(var(--v-theme-on-surface));\n              font-family: inherit;\n            "\n            placeholder="ws://host:port/path?pixelTwinId=xxx"\n          />\n        </div>\n        <p style="font-size: 12px; color: rgba(var(--v-theme-on-surface), 0.6); margin: 0;">\n          <strong>提示:</strong> 确保服务器地址正确且服务已启动\n        </p>\n      </div>\n    `,icon:"mdi-monitor",iconColor:"info",confirmText:"开始预览",cancelText:"取消",confirmColor:"info",confirmIcon:"mdi-monitor"}))try{const e=document.getElementById("preview-server-url"),a=e?e.value.trim():t;if(!a)return void _("请输入WebSocket连接地址");if(!a.startsWith("ws://")&&!a.startsWith("wss://"))return void _("WebSocket地址必须以 ws:// 或 wss:// 开头");const l=i.resolve({name:"webrtc-player",query:{server_url:a}}).href;window.open(l,"_blank")?w("预览窗口已打开"):_("无法打开预览窗口，请检查浏览器弹窗设置")}catch(a){_("预览失败，请稍后重试")}},X=e=>{D.value={...e},B.value=!0},Z=async e=>{if(await o(e.pixelTwinName,"项目")){k.value=!0;try{const t=await se.project.deleteProject({data:{pixelTwinId:e.pixelTwinId}});if(200!==t.code)throw new Error(t.message||"删除项目失败");w(`项目 "${e.pixelTwinName}" 已删除`),await $()}catch(t){_(t.message||"删除项目失败")}finally{k.value=!1}}},te=async e=>{try{const t=!e.serviceEnable,a=t?"启用":"禁用";if(await u(e.pixelTwinName,e.serviceEnable,"服务")){k.value=!0;const l={...e,serviceEnable:t},i=await se.project.editProject({data:l});if(200!==i.code)throw new Error(i.message||`${a}服务失败`);w(`项目 "${e.pixelTwinName}" 服务已${a}`),await $()}}catch(t){_(t.message||"切换服务状态失败")}finally{k.value=!1}},le=()=>{$()};return F(()=>{}),(e,t)=>(m(),b("div",Ea,[a(ae,{class:"page-header mb-6",elevation:"3"},{default:v(()=>[a(Y,{class:"py-6"},{default:v(()=>[s("div",Da,[s("div",Ra,[a(H,{size:"64",color:"primary",class:"mr-4"},{default:v(()=>[a(j,{size:"32",color:"white"},{default:v(()=>t[5]||(t[5]=[f("mdi-folder-multiple-outline")])),_:1,__:[5]})]),_:1}),t[6]||(t[6]=s("div",null,[s("h1",{class:"text-h4 font-weight-bold mb-1 text-primary"}," 项目管理中心 "),s("p",{class:"text-body-1 text-medium-emphasis mb-0"}," 管理和监控 Pixel Twin 项目实例 ")],-1))]),s("div",za,[a(q,{color:"primary",variant:"elevated","prepend-icon":"mdi-plus",onClick:U,class:"create-btn"},{default:v(()=>t[7]||(t[7]=[f(" 创建项目 ")])),_:1,__:[7]}),t[9]||(t[9]=f("   ")),a(q,{color:"info",variant:"outlined","prepend-icon":"mdi-refresh",onClick:O,loading:k.value,class:"refresh-btn"},{default:v(()=>t[8]||(t[8]=[f(" 刷新列表 ")])),_:1,__:[8]},8,["loading"])])])]),_:1})]),_:1}),a(ae,{class:"filter-section mb-6",elevation:"2"},{default:v(()=>[a(Y,{class:"py-4"},{default:v(()=>[a(Q,{align:"center"},{default:v(()=>[a(J,{cols:"12",md:"6"},{default:v(()=>[a(ee,{modelValue:P.value,"onUpdate:modelValue":t[0]||(t[0]=e=>P.value=e),label:"搜索项目名称","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:"","onClick:clear":M,onInput:M},null,8,["modelValue"])]),_:1}),a(J,{cols:"12",md:"3"},{default:v(()=>[a(_e,{modelValue:V.value,"onUpdate:modelValue":t[1]||(t[1]=e=>V.value=e),items:R,label:"每页显示","prepend-inner-icon":"mdi-format-list-numbered",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),a(J,{cols:"12",md:"3"},{default:v(()=>[s("div",Na," 共 "+g(C.value)+" 个项目 ",1)]),_:1})]),_:1})]),_:1})]),_:1}),a(ae,{elevation:"2"},{default:v(()=>[a(Aa,{"items-per-page":V.value,"onUpdate:itemsPerPage":t[2]||(t[2]=e=>V.value=e),page:T.value,"onUpdate:page":t[3]||(t[3]=e=>T.value=e),headers:N.value,items:S.value,"items-length":C.value,loading:k.value,class:"project-table","onUpdate:options":$,"mobile-breakpoint":0},{"item.pixelTwinName":v(({item:e})=>[s("div",La,[a(H,{size:"32",color:"primary",class:"mr-3"},{default:v(()=>[a(j,{size:"16",color:"white"},{default:v(()=>t[10]||(t[10]=[f("mdi-cube-outline")])),_:1,__:[10]})]),_:1}),s("div",$a,[s("div",Oa,g(e.pixelTwinName),1),s("div",ja,[s("span",Ma,"ID: "+g(e.pixelTwinId),1),a(q,{icon:"mdi-content-copy",variant:"text",size:"x-small",color:"primary",onClick:y(t=>(async e=>{try{await navigator.clipboard.writeText(e),w("项目ID已复制到剪贴板")}catch(t){_("复制失败，请手动复制")}})(e.pixelTwinId),["stop"]),class:"copy-id-btn"},{default:v(()=>[a(j,{size:"12"},{default:v(()=>t[11]||(t[11]=[f("mdi-content-copy")])),_:1,__:[11]}),a(et,{activator:"parent",location:"top"},{default:v(()=>t[12]||(t[12]=[f(" 复制项目ID ")])),_:1,__:[12]})]),_:2},1032,["onClick"])]),I.value<600?(m(),b("div",Ua,[s("div",Wa,[a(fe,{color:e.serviceEnable?"success":"error",size:"x-small",variant:"tonal",class:"mr-2"},{default:v(()=>[f(g(e.serviceEnable?"已启用":"已禁用"),1)]),_:2},1032,["color"]),s("span",Ga," 显存: "+g(e.graphicsMemory||"--")+" GB ",1)]),s("div",Ha,[e.pixelTwinStartPath?(m(),b("div",Ka,[a(j,{size:"12",color:"primary",class:"mr-1"},{default:v(()=>t[13]||(t[13]=[f("mdi-server")])),_:1,__:[13]}),t[14]||(t[14]=s("span",{class:"text-caption text-primary"},"信令服务器UE程序已部署",-1))])):x("",!0),e.gpuList&&e.gpuList.length>0?(m(),b("div",qa,[a(j,{size:"12",color:"success",class:"mr-1"},{default:v(()=>t[15]||(t[15]=[f("mdi-gpu")])),_:1,__:[15]}),s("span",Xa," GPU节点: "+g(e.gpuList.length)+"个 ",1)])):x("",!0)])])):x("",!0)])])]),"item.pixelTwinStartPath":v(({item:e})=>[s("div",Ya,[e.pixelTwinStartPath?(m(),b("div",Za,[s("div",Qa,[a(j,{size:"14",color:"primary",class:"mr-1"},{default:v(()=>t[16]||(t[16]=[f("mdi-server")])),_:1,__:[16]}),t[17]||(t[17]=s("span",{class:"text-caption font-weight-bold text-primary"},"信令服务器UE程序",-1))]),a(et,{location:"top","max-width":"500"},{activator:v(({props:i})=>[a(fe,l(i,{color:"primary",size:"small",variant:"tonal",class:"text-truncate cursor-pointer",style:{"max-width":"280px"}}),{default:v(()=>[a(j,{size:"12",class:"mr-1"},{default:v(()=>t[18]||(t[18]=[f("mdi-folder-outline")])),_:1,__:[18]}),f(" "+g(G(e.pixelTwinStartPath)),1)]),_:2},1040)]),default:v(()=>[s("div",Ja,[t[19]||(t[19]=s("div",{class:"text-subtitle-2 mb-1 font-weight-bold text-primary"},"完整路径：",-1)),s("div",el,g(e.pixelTwinStartPath),1)])]),_:2},1024)])):(m(),b("div",tl,[s("div",al,[a(j,{size:"14",color:"warning",class:"mr-1"},{default:v(()=>t[20]||(t[20]=[f("mdi-server-off")])),_:1,__:[20]}),t[21]||(t[21]=s("span",{class:"text-caption font-weight-bold text-warning"},"信令服务器UE程序",-1))]),a(fe,{color:"warning",size:"small",variant:"tonal"},{default:v(()=>[a(j,{size:"12",class:"mr-1"},{default:v(()=>t[22]||(t[22]=[f("mdi-close-circle-outline")])),_:1,__:[22]}),t[23]||(t[23]=f(" 未部署 "))]),_:1,__:[23]})])),e.gpuList&&e.gpuList.length>0?(m(),b("div",ll,[s("div",il,[a(j,{size:"14",color:"success",class:"mr-1"},{default:v(()=>t[24]||(t[24]=[f("mdi-gpu")])),_:1,__:[24]}),t[25]||(t[25]=s("span",{class:"text-caption font-weight-bold text-success"},"GPU服务器节点",-1)),a(fe,{color:"success",size:"x-small",variant:"text",class:"ml-1"},{default:v(()=>[f(g(e.gpuList.length),1)]),_:2},1024)]),s("div",sl,[(m(!0),b(r,null,h(e.gpuList.slice(0,2),(e,l)=>(m(),p(fe,{key:l,color:"success",size:"small",variant:"tonal",class:"gpu-chip"},{default:v(()=>[a(j,{size:"12",class:"mr-1"},{default:v(()=>t[26]||(t[26]=[f("mdi-ip-network")])),_:1,__:[26]}),f(" "+g(e),1)]),_:2},1024))),128)),e.gpuList.length>2?(m(),p(et,{key:0,location:"top","max-width":"300"},{activator:v(({props:t})=>[a(fe,l(t,{color:"success",size:"small",variant:"outlined",class:"cursor-pointer"}),{default:v(()=>[f(" +"+g(e.gpuList.length-2),1)]),_:2},1040)]),default:v(()=>[s("div",ol,[t[28]||(t[28]=s("div",{class:"text-subtitle-2 mb-2 font-weight-bold text-success"},"所有GPU服务器：",-1)),(m(!0),b(r,null,h(e.gpuList,(e,l)=>(m(),b("div",{key:l,class:"mb-1"},[s("div",nl,[a(j,{size:"12",color:"success",class:"mr-1"},{default:v(()=>t[27]||(t[27]=[f("mdi-ip-network")])),_:1,__:[27]}),s("span",rl,g(e),1)])]))),128))])]),_:2},1024)):x("",!0)])])):x("",!0)])]),"item.pixelTwinArgs":v(({item:e})=>[e.pixelTwinArgs&&e.pixelTwinArgs.length>0?(m(),b("div",dl,[a(et,{location:"top","max-width":"400"},{activator:v(({props:t})=>[a(fe,l(t,{color:"info",size:"small",variant:"tonal",class:"cursor-pointer"}),{default:v(()=>[f(g(e.pixelTwinArgs.length)+" 个参数 ",1)]),_:2},1040)]),default:v(()=>[s("div",ul,[t[30]||(t[30]=s("div",{class:"text-subtitle-2 mb-2 font-weight-bold"},"启动参数详情：",-1)),(m(!0),b(r,null,h(e.pixelTwinArgs,(e,l)=>(m(),b("div",{key:l,class:"mb-1"},[s("div",cl,[a(j,{size:"12",color:"primary",class:"mr-1"},{default:v(()=>t[29]||(t[29]=[f("mdi-chevron-right")])),_:1,__:[29]}),s("span",pl,g(e.key),1),e.value?(m(),b("span",ml,": "+g(e.value),1)):x("",!0)]),W(e.key)?(m(),b("div",vl,g(W(e.key)),1)):x("",!0)]))),128))])]),_:2},1024)])):(m(),b("span",fl,"无参数"))]),"item.graphicsMemory":v(({item:e})=>[s("div",gl,[a(j,{size:"16",color:"info",class:"mr-1"},{default:v(()=>t[31]||(t[31]=[f("mdi-memory")])),_:1,__:[31]}),s("span",yl,g(e.graphicsMemory||"--")+" GB",1)])]),"item.serviceEnable":v(({item:e})=>[a(fe,{color:e.serviceEnable?"success":"error",size:"small",variant:"tonal"},{default:v(()=>[f(g(e.serviceEnable?"已启用":"已禁用"),1)]),_:2},1032,["color"])]),"item.actions":v(({item:e})=>[s("div",{class:n(["d-flex",I.value<600?"flex-column gap-1":"gap-1"])},[I.value<600?(m(),b(r,{key:0},[s("div",bl,[a(q,{icon:e.serviceEnable?"mdi-pause":"mdi-play",variant:"text",size:"x-small",color:e.serviceEnable?"warning":"success",onClick:t=>te(e)},{default:v(()=>[a(j,{size:"14"},{default:v(()=>[f(g(e.serviceEnable?"mdi-pause":"mdi-play"),1)]),_:2},1024)]),_:2},1032,["icon","color","onClick"]),a(q,{icon:"mdi-monitor",variant:"text",size:"x-small",color:"info",onClick:t=>K(e)},{default:v(()=>[a(j,{size:"14"},{default:v(()=>t[32]||(t[32]=[f("mdi-monitor")])),_:1,__:[32]})]),_:2},1032,["onClick"])]),s("div",hl,[a(q,{icon:"mdi-pencil",variant:"text",size:"x-small",color:"primary",onClick:t=>X(e)},{default:v(()=>[a(j,{size:"14"},{default:v(()=>t[33]||(t[33]=[f("mdi-pencil")])),_:1,__:[33]})]),_:2},1032,["onClick"]),a(q,{icon:"mdi-delete",variant:"text",size:"x-small",color:"error",onClick:t=>Z(e)},{default:v(()=>[a(j,{size:"14"},{default:v(()=>t[34]||(t[34]=[f("mdi-delete")])),_:1,__:[34]})]),_:2},1032,["onClick"])])],64)):(m(),b(r,{key:1},[a(q,{icon:e.serviceEnable?"mdi-pause":"mdi-play",variant:"text",size:"small",color:e.serviceEnable?"warning":"success",onClick:t=>te(e)},{default:v(()=>[a(j,null,{default:v(()=>[f(g(e.serviceEnable?"mdi-pause":"mdi-play"),1)]),_:2},1024),a(et,{activator:"parent",location:"top"},{default:v(()=>[f(g(e.serviceEnable?"禁用服务":"启用服务"),1)]),_:2},1024)]),_:2},1032,["icon","color","onClick"]),a(q,{icon:"mdi-monitor",variant:"text",size:"small",color:"info",onClick:t=>K(e)},{default:v(()=>[a(j,null,{default:v(()=>t[35]||(t[35]=[f("mdi-monitor")])),_:1,__:[35]}),a(et,{activator:"parent",location:"top"},{default:v(()=>t[36]||(t[36]=[f("预览项目")])),_:1,__:[36]})]),_:2},1032,["onClick"]),a(q,{icon:"mdi-pencil",variant:"text",size:"small",color:"primary",onClick:t=>X(e)},{default:v(()=>[a(j,null,{default:v(()=>t[37]||(t[37]=[f("mdi-pencil")])),_:1,__:[37]}),a(et,{activator:"parent",location:"top"},{default:v(()=>t[38]||(t[38]=[f("编辑项目")])),_:1,__:[38]})]),_:2},1032,["onClick"]),a(q,{icon:"mdi-delete",variant:"text",size:"small",color:"error",onClick:t=>Z(e)},{default:v(()=>[a(j,null,{default:v(()=>t[39]||(t[39]=[f("mdi-delete")])),_:1,__:[39]}),a(et,{activator:"parent",location:"top"},{default:v(()=>t[40]||(t[40]=[f("删除项目")])),_:1,__:[40]})]),_:2},1032,["onClick"])],64))],2)]),"no-data":v(()=>[s("div",xl,[a(H,{size:"80",color:"grey-lighten-2",class:"mb-4"},{default:v(()=>[a(j,{size:"40",color:"grey"},{default:v(()=>t[41]||(t[41]=[f("mdi-folder-open-outline")])),_:1,__:[41]})]),_:1}),t[43]||(t[43]=s("h3",{class:"text-h6 mb-2"},"暂无项目",-1)),s("p",wl,g(P.value?"没有找到匹配的项目":"还没有创建任何项目"),1),P.value?x("",!0):(m(),p(q,{key:0,color:"primary",variant:"elevated","prepend-icon":"mdi-plus",onClick:U},{default:v(()=>t[42]||(t[42]=[f(" 创建第一个项目 ")])),_:1,__:[42]}))])]),_:1},8,["items-per-page","page","headers","items","items-length","loading"])]),_:1}),a(bt,{modelValue:B.value,"onUpdate:modelValue":t[4]||(t[4]=e=>B.value=e),"edit-data":D.value,onSuccess:le},null,8,["modelValue","edit-data"])]))}},kl=W(_l,[["__scopeId","data-v-e61b43a7"]]);export{kl as default};
