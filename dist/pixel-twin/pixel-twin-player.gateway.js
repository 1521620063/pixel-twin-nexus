const _0x150908=_0x3d18;(function(_0x47ca08,_0x20cf8e){const _0x488512=_0x3d18,_0xcef543=_0x47ca08();while(!![]){try{const _0x2a63c2=-parseInt(_0x488512(0x20a))/0x1+parseInt(_0x488512(0x21e))/0x2*(parseInt(_0x488512(0x1cd))/0x3)+-parseInt(_0x488512(0x1f4))/0x4+parseInt(_0x488512(0x1e5))/0x5*(-parseInt(_0x488512(0x1fb))/0x6)+parseInt(_0x488512(0x207))/0x7+parseInt(_0x488512(0x1ca))/0x8+parseInt(_0x488512(0x20d))/0x9*(-parseInt(_0x488512(0x1f6))/0xa);if(_0x2a63c2===_0x20cf8e)break;else _0xcef543['push'](_0xcef543['shift']());}catch(_0x1bf21d){_0xcef543['push'](_0xcef543['shift']());}}}(_0x4790,0xc9dd0));const _0x536ded=(function(){let _0x481c3f=!![];return function(_0x3dbf32,_0x5a17e0){const _0x4ad6f1=_0x481c3f?function(){const _0x1b83a9=_0x3d18;if(_0x5a17e0){const _0x5e175d=_0x5a17e0[_0x1b83a9(0x1de)](_0x3dbf32,arguments);return _0x5a17e0=null,_0x5e175d;}}:function(){};return _0x481c3f=![],_0x4ad6f1;};}()),_0x29d9bb=_0x536ded(this,function(){const _0x38698c=_0x3d18,_0x4b1c4b={};_0x4b1c4b['KBAZl']=_0x38698c(0x209);const _0x16d58a=_0x4b1c4b;return _0x29d9bb[_0x38698c(0x20e)]()[_0x38698c(0x1eb)](_0x38698c(0x209))[_0x38698c(0x20e)]()['constructor'](_0x29d9bb)['search'](_0x16d58a[_0x38698c(0x20b)]);});_0x29d9bb();function _0x3d18(_0xcc2cac,_0x42fba6){const _0x41889d=_0x4790();return _0x3d18=function(_0x27e306,_0xd2519b){_0x27e306=_0x27e306-0x1c4;let _0x2b61bb=_0x41889d[_0x27e306];if(_0x3d18['STFeKD']===undefined){var _0x195dcb=function(_0x3d18c9){const _0x1a13be='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2a9b92='',_0x53357b='',_0x1041c2=_0x2a9b92+_0x195dcb;for(let _0x5142cc=0x0,_0x4dcaa2,_0x50420c,_0x382f8c=0x0;_0x50420c=_0x3d18c9['charAt'](_0x382f8c++);~_0x50420c&&(_0x4dcaa2=_0x5142cc%0x4?_0x4dcaa2*0x40+_0x50420c:_0x50420c,_0x5142cc++%0x4)?_0x2a9b92+=_0x1041c2['charCodeAt'](_0x382f8c+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4dcaa2>>(-0x2*_0x5142cc&0x6)):_0x5142cc:0x0){_0x50420c=_0x1a13be['indexOf'](_0x50420c);}for(let _0x174856=0x0,_0x2e0e20=_0x2a9b92['length'];_0x174856<_0x2e0e20;_0x174856++){_0x53357b+='%'+('00'+_0x2a9b92['charCodeAt'](_0x174856)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x53357b);};_0x3d18['JDcCBu']=_0x195dcb,_0xcc2cac=arguments,_0x3d18['STFeKD']=!![];}const _0x29d9bb=_0x41889d[0x0],_0x536ded=_0x27e306+_0x29d9bb,_0x47903e=_0xcc2cac[_0x536ded];if(!_0x47903e){const _0x58a59e=function(_0x5252fe){this['QqPpoq']=_0x5252fe,this['nsYrtB']=[0x1,0x0,0x0],this['ZLUDjL']=function(){return'newState';},this['gLAAUJ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['UmmUPV']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x58a59e['prototype']['lLuCRL']=function(){const _0x5e5876=new RegExp(this['gLAAUJ']+this['UmmUPV']),_0x22d88e=_0x5e5876['test'](this['ZLUDjL']['toString']())?--this['nsYrtB'][0x1]:--this['nsYrtB'][0x0];return this['xYPPKi'](_0x22d88e);},_0x58a59e['prototype']['xYPPKi']=function(_0x297683){if(!Boolean(~_0x297683))return _0x297683;return this['JHvosy'](this['QqPpoq']);},_0x58a59e['prototype']['JHvosy']=function(_0x32e11a){for(let _0x19a9fa=0x0,_0x29cd82=this['nsYrtB']['length'];_0x19a9fa<_0x29cd82;_0x19a9fa++){this['nsYrtB']['push'](Math['round'](Math['random']())),_0x29cd82=this['nsYrtB']['length'];}return _0x32e11a(this['nsYrtB'][0x0]);},new _0x58a59e(_0x3d18)['lLuCRL'](),_0x2b61bb=_0x3d18['JDcCBu'](_0x2b61bb),_0xcc2cac[_0x536ded]=_0x2b61bb;}else _0x2b61bb=_0x47903e;return _0x2b61bb;},_0x3d18(_0xcc2cac,_0x42fba6);}const _0xd2519b=(function(){const _0x692b7f=_0x3d18,_0x4a13bc={};_0x4a13bc[_0x692b7f(0x1d6)]=_0x692b7f(0x221),_0x4a13bc[_0x692b7f(0x1ce)]=_0x692b7f(0x1e9);const _0x286fee=_0x4a13bc;let _0x3223a4=!![];return function(_0x48af88,_0x41149e){const _0x389ea5=_0x3223a4?function(){const _0x39b852=_0x3d18;if(_0x286fee[_0x39b852(0x1d6)]===_0x286fee['IbelB']){if(_0x2dd7c4){const _0x4232e6=_0x594bcd['apply'](_0x53d45e,arguments);return _0xcaa1b3=null,_0x4232e6;}}else{if(_0x41149e){const _0x217629=_0x41149e[_0x39b852(0x1de)](_0x48af88,arguments);return _0x41149e=null,_0x217629;}}}:function(){};return _0x3223a4=![],_0x389ea5;};}()),_0x27e306=_0xd2519b(this,function(){const _0x4c216c=_0x3d18,_0x866164={'mUoOQ':function(_0x91993c,_0x11fbfd){return _0x91993c===_0x11fbfd;},'iBSLY':_0x4c216c(0x1d3),'WwrPt':function(_0x29e962,_0x423de9){return _0x29e962===_0x423de9;},'AMjlx':_0x4c216c(0x20f),'vYiUA':function(_0x187686,_0x3badbf){return _0x187686(_0x3badbf);},'eAEBX':function(_0x8b808c,_0x1cc10c){return _0x8b808c+_0x1cc10c;},'msoGC':'return\x20(function()\x20','lxaiH':_0x4c216c(0x206),'rvRVR':function(_0x460b91){return _0x460b91();},'oJgvl':_0x4c216c(0x213),'jwPsx':_0x4c216c(0x1f3),'IaUSG':'info','tMctE':'error','jorQk':_0x4c216c(0x225),'aDekR':function(_0x4e2f43,_0xbc46af){return _0x4e2f43<_0xbc46af;},'SlYbM':function(_0x16513f,_0x144e7d){return _0x16513f!==_0x144e7d;},'JPxAq':_0x4c216c(0x21b)};let _0x137f79;try{const _0x4605dc=_0x866164[_0x4c216c(0x1cf)](Function,_0x866164['eAEBX'](_0x866164['msoGC'],_0x866164[_0x4c216c(0x21a)])+');');_0x137f79=_0x866164[_0x4c216c(0x215)](_0x4605dc);}catch(_0x31e3a9){_0x137f79=window;}const _0x1e3194=_0x137f79[_0x4c216c(0x1f0)]=_0x137f79[_0x4c216c(0x1f0)]||{},_0x2a3c16=[_0x866164[_0x4c216c(0x1e0)],_0x866164[_0x4c216c(0x216)],_0x866164[_0x4c216c(0x1d2)],_0x866164['tMctE'],_0x866164[_0x4c216c(0x212)],_0x4c216c(0x1c4),_0x4c216c(0x1d7)];for(let _0x3a12d8=0x0;_0x866164[_0x4c216c(0x204)](_0x3a12d8,_0x2a3c16[_0x4c216c(0x21f)]);_0x3a12d8++){if(_0x866164['SlYbM'](_0x866164[_0x4c216c(0x208)],_0x866164[_0x4c216c(0x208)])){if(_0x866164[_0x4c216c(0x1ea)](typeof _0x8518ce,_0x866164['iBSLY'])&&_0x866164[_0x4c216c(0x1ec)](typeof _0x162316[_0x4c216c(0x1e8)],_0x866164[_0x4c216c(0x1e7)]))return _0x1464e6[_0x4c216c(0x1e8)](_0x2c2334,_0x35a3c);}else{const _0x13864a=_0xd2519b[_0x4c216c(0x1da)][_0x4c216c(0x1df)][_0x4c216c(0x210)](_0xd2519b),_0x2dac0c=_0x2a3c16[_0x3a12d8],_0x133dc5=_0x1e3194[_0x2dac0c]||_0x13864a;_0x13864a[_0x4c216c(0x1c9)]=_0xd2519b[_0x4c216c(0x210)](_0xd2519b),_0x13864a['toString']=_0x133dc5[_0x4c216c(0x20e)][_0x4c216c(0x210)](_0x133dc5),_0x1e3194[_0x2dac0c]=_0x13864a;}}});function _0x4790(){const _0x366467=['x19TzxrHzgf0yq','mZm2mZz2C2Xkrw0','y29YCW','zgvZAwDUoNjLDhvYBNr5Cgu','BNvWzKy','l3bPEgvSlxr3Aw4TCgXHEwvY','AgfUzgXLugXHEwvYrgLZy29UBMvJDa','zgvJB3jHDgu','AgfUzgXLrgLZy29UBMvJDa','Dg9sDw5qAxHLBfr3Aw4','yurLA1i','ugL4zwXuD2LUu2vYDMLJzq','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','oda3mde2mfDMrxf5zq','sLb4qxe','kcGOlISPkYKRksSK','mZqXndK0vMzXEK5U','s0jbwMW','zg9Szu8','mJy0nJLNu0zvyKq','Dg9tDhjPBMC','zNvUy3rPB24','yMLUza','CgXHEwvYswq','AM9YuwS','Bg9N','AgfUzgXLrxjYB3i','CNzsvLi','ANDqC3G','y2fUzgLKyxrL','zgvZAwDUoNr5Cgu','AgfUzgXLuMvUzwDVDgLHDgvtrfa','BhHHAuG','tvfftMy','x19LC01VzhvSzq','CgvYtwvZC2fNzurLzMXHDgu','nda0tKjgr3rl','BgvUz3rO','vuLJCg4','zKnQENC','EMzWEvi','u2vYDMvY','zgf0yq','zxHJzxb0Aw9U','CMvUzwDVDgLHDgvtrfa','DgfIBgu','v2vIu29JA2v0u2vYDMvY','x19KzwnVCMf0zq','yLPetgS','qg5LC3rQCY9JB21TB24','x19WCM90B19F','nZi5mZe4nhfnsKXeqW','AwnLq2fUzgLKyxrL','DMfSDwu','nJmZmhzqyvbPuG','swjLBei','DLLPvue','uM9KELK','AgfUzgXLugXHEwvYqw5ZD2vY','swfvu0C','B2jQzwn0','u3vIC2nYAwjLtwvZC2fNzq','C2vUze1LC3nHz2vuB1vf','CvHdsKy','DhjHy2u','CgL4zwXuD2LUu2vYDMLJzq','lI4VAw50zxjJzxb0B3jZl3DZsw50zxjJzxb0B3jZ','y29UC3rYDwn0B3i','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','B3jPz2LU','A2Tuq0q','yxbWBhK','ChjVDg90ExbL','B0PNDMW','sfvbshi','v3njBNrLCMnLChrVCG','AgfUzgXLugXHEwvYswnLq2fUzgLKyxrL','ugL4zwXuD2LUugXHEwvYr2f0zxDHEq','mZy1vgTKy2fV','lI9WAxHLBc10D2LUlNnLCNzPy2u','qu1QBhG','Bwv0ywrHDge','y09lsw4','BvvVt1e','C2vHCMnO','v3DYuhq','zgvZAwDUoNbHCMfTDhLWzxm','Cgf0Aa','uenQwva','y29UC29Szq','vxnLsw50zxjJzxb0B3jZ','C2vYDMvY','D2fYBG','mZq2nduXmKjlqMTqvq','DxjS','mtyWvLPRy1HH','yw5ZD2vY','ywz0zxjjBML0','Dw5KzwzPBMvK'];_0x4790=function(){return _0x366467;};return _0x4790();}_0x27e306();'use strict';var __decorate=this&&this[_0x150908(0x1c6)]||function(_0x26fd78,_0x5b55c9,_0x903e2b,_0x24ad50){const _0xec4513=_0x150908,_0x1f0418={'HUAHr':function(_0x121390,_0x37747c){return _0x121390===_0x37747c;},'zfpyR':function(_0x2a312c,_0x4ee5e9){return _0x2a312c-_0x4ee5e9;},'doleO':function(_0x5bce3e,_0x1765ba){return _0x5bce3e>=_0x1765ba;},'kIEdC':function(_0x49ab15,_0x1b6b3c){return _0x49ab15(_0x1b6b3c);},'RodzY':function(_0x101164,_0x51f60b){return _0x101164>_0x51f60b;},'nupfF':function(_0x6aceff,_0x51ff91){return _0x6aceff>_0x51ff91;}};var _0x2638ce=arguments[_0xec4513(0x21f)],_0x3af80c=_0x2638ce<0x3?_0x5b55c9:_0x24ad50===null?_0x24ad50=Object[_0xec4513(0x1db)](_0x5b55c9,_0x903e2b):_0x24ad50,_0x75e3f5;if(_0x1f0418[_0xec4513(0x1e1)](typeof Reflect,_0xec4513(0x1d3))&&typeof Reflect[_0xec4513(0x201)]===_0xec4513(0x20f))_0x3af80c=Reflect[_0xec4513(0x201)](_0x26fd78,_0x5b55c9,_0x903e2b,_0x24ad50);else{for(var _0x480c11=_0x1f0418[_0xec4513(0x222)](_0x26fd78[_0xec4513(0x21f)],0x1);_0x1f0418[_0xec4513(0x20c)](_0x480c11,0x0);_0x480c11--)if(_0x75e3f5=_0x26fd78[_0x480c11])_0x3af80c=(_0x2638ce<0x3?_0x1f0418['kIEdC'](_0x75e3f5,_0x3af80c):_0x1f0418[_0xec4513(0x1d0)](_0x2638ce,0x3)?_0x75e3f5(_0x5b55c9,_0x903e2b,_0x3af80c):_0x75e3f5(_0x5b55c9,_0x903e2b))||_0x3af80c;}return _0x1f0418[_0xec4513(0x1fe)](_0x2638ce,0x3)&&_0x3af80c&&Object['defineProperty'](_0x5b55c9,_0x903e2b,_0x3af80c),_0x3af80c;},__metadata=this&&this[_0x150908(0x1fa)]||function(_0x34c3f6,_0x728f56){const _0x264da4=_0x150908,_0x992cb2={};_0x992cb2[_0x264da4(0x1ef)]=function(_0xb365ca,_0x54d1e0){return _0xb365ca===_0x54d1e0;},_0x992cb2[_0x264da4(0x220)]=_0x264da4(0x1d3),_0x992cb2[_0x264da4(0x1dd)]=_0x264da4(0x20f);const _0x45d8d8=_0x992cb2;if(_0x45d8d8[_0x264da4(0x1ef)](typeof Reflect,_0x45d8d8['UIcpn'])&&typeof Reflect[_0x264da4(0x1e8)]===_0x45d8d8[_0x264da4(0x1dd)])return Reflect['metadata'](_0x34c3f6,_0x728f56);},_a;const _0x580f1b={};_0x580f1b[_0x150908(0x1cc)]=!![],Object['defineProperty'](exports,_0x150908(0x21c),_0x580f1b),exports[_0x150908(0x1e4)]=void 0x0;const websockets_1=require('@nestjs/websockets'),ws_1=require('ws'),pixel_twin_service_1=require(_0x150908(0x1e6)),wsInterceptors_1=require(_0x150908(0x1d9)),common_1=require(_0x150908(0x1c8));let PixelTwinPlayerGateway=class PixelTwinPlayerGateway{[_0x150908(0x1d8)];['server'];constructor(_0x3f3639){const _0x2c1762=_0x150908;this[_0x2c1762(0x1d8)]=_0x3f3639;}[_0x150908(0x1f8)](_0x420d8c){}['handleConnection'](_0x3e5d4,..._0x161f46){const _0x4785b2=_0x150908,_0x1d6f8f=_0x161f46[0x0];this[_0x4785b2(0x1d8)][_0x4785b2(0x203)](_0x3e5d4,_0x1d6f8f[_0x4785b2(0x1f5)],_0x1d6f8f);}[_0x150908(0x202)](_0x1ef20b){const _0x3f6614=_0x150908;this[_0x3f6614(0x1d8)]['handlePlayerDisconnect']();}['handleClose'](_0x285021,_0x59af3e,_0x2baf17){const _0x4cf629=_0x150908;this[_0x4cf629(0x1d8)][_0x4cf629(0x200)]();}[_0x150908(0x214)](_0x44847d,_0x438e2d){this['pixelTwinService']['handlePlayerDisconnect']();}['handlePlayerAnswer'](_0x4a0a0c,_0x57f2ba){const _0xe7429a=_0x150908;this[_0xe7429a(0x1d8)][_0xe7429a(0x1d5)](_0x57f2ba[_0xe7429a(0x224)][_0xe7429a(0x211)],{..._0x57f2ba[_0xe7429a(0x224)][_0xe7429a(0x1f7)],'playerId':_0x57f2ba['data']['playerId']});}[_0x150908(0x1e3)](_0xef382,_0x227f2d){const _0x158171=_0x150908,_0x4cc01d={};_0x4cc01d['bZDLk']=_0x158171(0x1cb);const _0x15ea11=_0x4cc01d;this[_0x158171(0x1d8)]['sendMessageToUE'](_0x227f2d[_0x158171(0x224)]['playerId'],{'type':_0x15ea11[_0x158171(0x1c7)],'candidate':_0x227f2d[_0x158171(0x224)][_0x158171(0x217)],'playerId':_0x227f2d[_0x158171(0x224)][_0x158171(0x211)]});}[_0x150908(0x219)](_0x5c0505,_0x10b59b){const _0x3a325a=_0x150908;this[_0x3a325a(0x1d8)][_0x3a325a(0x226)](_0x10b59b[_0x3a325a(0x224)]['playerId']);}};exports[_0x150908(0x1e4)]=PixelTwinPlayerGateway,__decorate([(0x0,websockets_1[_0x150908(0x1c5)])(),__metadata(_0x150908(0x218),typeof(_a=typeof ws_1[_0x150908(0x223)]!==_0x150908(0x1f9)&&ws_1[_0x150908(0x223)])===_0x150908(0x20f)?_a:Object)],PixelTwinPlayerGateway[_0x150908(0x1df)],_0x150908(0x1f2),void 0x0),__decorate([(0x0,websockets_1[_0x150908(0x1d4)])(_0x150908(0x1f7)),__metadata(_0x150908(0x218),Function),__metadata(_0x150908(0x1ed),[Object,Object]),__metadata('design:returntype',void 0x0)],PixelTwinPlayerGateway[_0x150908(0x1df)],_0x150908(0x1d1),null),__decorate([(0x0,websockets_1['SubscribeMessage'])('iceCandidate'),__metadata('design:type',Function),__metadata(_0x150908(0x1ed),[Object,Object]),__metadata(_0x150908(0x1fd),void 0x0)],PixelTwinPlayerGateway[_0x150908(0x1df)],_0x150908(0x1e3),null),__decorate([(0x0,websockets_1[_0x150908(0x1d4)])('renegotiateSDP'),__metadata(_0x150908(0x218),Function),__metadata(_0x150908(0x1ed),[Object,Object]),__metadata(_0x150908(0x1fd),void 0x0)],PixelTwinPlayerGateway[_0x150908(0x1df)],_0x150908(0x219),null);const _0x3f120f={};_0x3f120f[_0x150908(0x1dc)]='*';const _0x2c1ae3={};_0x2c1ae3[_0x150908(0x1ee)]=_0x150908(0x1ff),_0x2c1ae3[_0x150908(0x1fc)]=_0x3f120f,_0x2c1ae3[_0x150908(0x21d)]=!![],exports[_0x150908(0x1e4)]=PixelTwinPlayerGateway=__decorate([(0x0,common_1[_0x150908(0x1f1)])(wsInterceptors_1[_0x150908(0x1e2)]),(0x0,websockets_1['WebSocketGateway'])(_0x2c1ae3),__metadata(_0x150908(0x1ed),[pixel_twin_service_1[_0x150908(0x205)]])],PixelTwinPlayerGateway);